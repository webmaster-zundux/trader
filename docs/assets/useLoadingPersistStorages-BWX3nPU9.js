import{a as D,q as A,B as Fe,R as Ml}from"./chunk-PVWAREVJ-D1PIyzeh.js";import{b as Qr,c as Vr,p as jl,a as en}from"./ClassNames-CdIKlwZs.js";const Nl="_Button_19655_1",Ll="_NoCapitalize_19655_12",$l="_Primary_19655_22",Ul="_Fluid_19655_27",Bl="_Big_19655_32",Gl="_Small_19655_40",zl="_Tiny_19655_48",Vl="_TransparentOnDefaultState_19655_56",Hl="_Transparent_19655_56",Xl="_NoPadding_19655_62",Kl="_NoBorder_19655_70",Wl="_AsInitial_19655_88",Jl="_IsAlwaysVisible_19655_106",Zl="_AsLink_19655_158",Y={Button:Nl,NoCapitalize:Ll,Primary:$l,Fluid:Ul,Big:Bl,Small:Gl,Tiny:zl,TransparentOnDefaultState:Vl,Transparent:Hl,NoPadding:Xl,NoBorder:Kl,AsInitial:Wl,IsAlwaysVisible:Jl,AsLink:Zl},pu=D.memo(function({primary:r,fluid:s=!1,size:o,transparent:a=!1,transparentOnDefaultState:l=!1,noPadding:f=!1,noBorder:h=!1,asInitial:g=!1,isAlwaysVisible:S=!1,asLink:E,noCapitalize:x=!1,ref:w,type:O="button",children:j,...N}){const L=Qr([Y.Button,s&&Y.Fluid,o==="tiny"&&Y.Tiny,o==="small"&&Y.Small,o==="big"&&Y.Big,r&&Y.Primary,a&&Y.Transparent,l&&Y.TransparentOnDefaultState,f&&Y.NoPadding,h&&Y.NoBorder,g&&Y.AsInitial,E&&Y.AsLink,x&&Y.NoCapitalize,S&&Y.IsAlwaysVisible]);return A.jsx("button",{ref:w,className:L,type:O,...N,children:j})});function na(e){return e.filter(r=>r!=="uuid")}const Me="notification",Yl=["uuid","entityType","type","tags","title","messages","hideTimeout"];na(Yl);function Ue(e){return new Promise((r,s)=>{e.oncomplete=e.onsuccess=()=>r(e.result),e.onabort=e.onerror=()=>s(e.error)})}function ia(e,r){let s;const o=()=>{if(s)return s;const a=indexedDB.open(e);return a.onupgradeneeded=()=>a.result.createObjectStore(r),s=Ue(a),s.then(l=>{l.onclose=()=>s=void 0},()=>{}),s};return(a,l)=>o().then(f=>l(f.transaction(r,a).objectStore(r)))}let ht;function tn(){return ht||(ht=ia("keyval-store","keyval")),ht}function Ql(e,r=tn()){return r("readonly",s=>Ue(s.get(e)))}function ec(e,r,s=tn()){return s("readwrite",o=>(o.put(r,e),Ue(o.transaction)))}function tc(e,r=tn()){return r("readwrite",s=>(s.delete(e),Ue(s.transaction)))}class rc{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(r,s){this.keyToValue.set(r,s),this.valueToKey.set(s,r)}getByKey(r){return this.keyToValue.get(r)}getByValue(r){return this.valueToKey.get(r)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class sa{constructor(r){this.generateIdentifier=r,this.kv=new rc}register(r,s){this.kv.getByValue(r)||(s||(s=this.generateIdentifier(r)),this.kv.set(s,r))}clear(){this.kv.clear()}getIdentifier(r){return this.kv.getByValue(r)}getValue(r){return this.kv.getByKey(r)}}class nc extends sa{constructor(){super(r=>r.name),this.classToAllowedProps=new Map}register(r,s){typeof s=="object"?(s.allowProps&&this.classToAllowedProps.set(r,s.allowProps),super.register(r,s.identifier)):super.register(r,s)}getAllowedProps(r){return this.classToAllowedProps.get(r)}}function ic(e){if("values"in Object)return Object.values(e);const r=[];for(const s in e)e.hasOwnProperty(s)&&r.push(e[s]);return r}function sc(e,r){const s=ic(e);if("find"in s)return s.find(r);const o=s;for(let a=0;a<o.length;a++){const l=o[a];if(r(l))return l}}function he(e,r){Object.entries(e).forEach(([s,o])=>r(o,s))}function je(e,r){return e.indexOf(r)!==-1}function yu(e,r){for(let s=0;s<e.length;s++){const o=e[s];if(r(o))return o}}class uc{constructor(){this.transfomers={}}register(r){this.transfomers[r.name]=r}findApplicable(r){return sc(this.transfomers,s=>s.isApplicable(r))}findByName(r){return this.transfomers[r]}}const oc=e=>Object.prototype.toString.call(e).slice(8,-1),ua=e=>typeof e>"u",ac=e=>e===null,we=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,Hr=e=>we(e)&&Object.keys(e).length===0,ae=e=>Array.isArray(e),lc=e=>typeof e=="string",cc=e=>typeof e=="number"&&!isNaN(e),fc=e=>typeof e=="boolean",pc=e=>e instanceof RegExp,ke=e=>e instanceof Map,Ae=e=>e instanceof Set,oa=e=>oc(e)==="Symbol",yc=e=>e instanceof Date&&!isNaN(e.valueOf()),dc=e=>e instanceof Error,du=e=>typeof e=="number"&&isNaN(e),hc=e=>fc(e)||ac(e)||ua(e)||cc(e)||lc(e)||oa(e),mc=e=>typeof e=="bigint",vc=e=>e===1/0||e===-1/0,_c=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),gc=e=>e instanceof URL,aa=e=>e.replace(/\./g,"\\."),mt=e=>e.map(String).map(aa).join("."),Ie=e=>{const r=[];let s="";for(let a=0;a<e.length;a++){let l=e.charAt(a);if(l==="\\"&&e.charAt(a+1)==="."){s+=".",a++;continue}if(l==="."){r.push(s),s="";continue}s+=l}const o=s;return r.push(o),r};function ie(e,r,s,o){return{isApplicable:e,annotation:r,transform:s,untransform:o}}const la=[ie(ua,"undefined",()=>null,()=>{}),ie(mc,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),ie(yc,"Date",e=>e.toISOString(),e=>new Date(e)),ie(dc,"Error",(e,r)=>{const s={name:e.name,message:e.message};return r.allowedErrorProps.forEach(o=>{s[o]=e[o]}),s},(e,r)=>{const s=new Error(e.message);return s.name=e.name,s.stack=e.stack,r.allowedErrorProps.forEach(o=>{s[o]=e[o]}),s}),ie(pc,"regexp",e=>""+e,e=>{const r=e.slice(1,e.lastIndexOf("/")),s=e.slice(e.lastIndexOf("/")+1);return new RegExp(r,s)}),ie(Ae,"set",e=>[...e.values()],e=>new Set(e)),ie(ke,"map",e=>[...e.entries()],e=>new Map(e)),ie(e=>du(e)||vc(e),"number",e=>du(e)?"NaN":e>0?"Infinity":"-Infinity",Number),ie(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),ie(gc,"URL",e=>e.toString(),e=>new URL(e))];function Be(e,r,s,o){return{isApplicable:e,annotation:r,transform:s,untransform:o}}const ca=Be((e,r)=>oa(e)?!!r.symbolRegistry.getIdentifier(e):!1,(e,r)=>["symbol",r.symbolRegistry.getIdentifier(e)],e=>e.description,(e,r,s)=>{const o=s.symbolRegistry.getValue(r[1]);if(!o)throw new Error("Trying to deserialize unknown symbol");return o}),bc=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,r)=>(e[r.name]=r,e),{}),fa=Be(_c,e=>["typed-array",e.constructor.name],e=>[...e],(e,r)=>{const s=bc[r[1]];if(!s)throw new Error("Trying to deserialize unknown typed array");return new s(e)});function pa(e,r){return e?.constructor?!!r.classRegistry.getIdentifier(e.constructor):!1}const ya=Be(pa,(e,r)=>["class",r.classRegistry.getIdentifier(e.constructor)],(e,r)=>{const s=r.classRegistry.getAllowedProps(e.constructor);if(!s)return{...e};const o={};return s.forEach(a=>{o[a]=e[a]}),o},(e,r,s)=>{const o=s.classRegistry.getValue(r[1]);if(!o)throw new Error(`Trying to deserialize unknown class '${r[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(o.prototype),e)}),da=Be((e,r)=>!!r.customTransformerRegistry.findApplicable(e),(e,r)=>["custom",r.customTransformerRegistry.findApplicable(e).name],(e,r)=>r.customTransformerRegistry.findApplicable(e).serialize(e),(e,r,s)=>{const o=s.customTransformerRegistry.findByName(r[1]);if(!o)throw new Error("Trying to deserialize unknown custom value");return o.deserialize(e)}),Ec=[ya,ca,da,fa],hu=(e,r)=>{const s=yu(Ec,a=>a.isApplicable(e,r));if(s)return{value:s.transform(e,r),type:s.annotation(e,r)};const o=yu(la,a=>a.isApplicable(e,r));if(o)return{value:o.transform(e,r),type:o.annotation}},ha={};la.forEach(e=>{ha[e.annotation]=e});const Sc=(e,r,s)=>{if(ae(r))switch(r[0]){case"symbol":return ca.untransform(e,r,s);case"class":return ya.untransform(e,r,s);case"custom":return da.untransform(e,r,s);case"typed-array":return fa.untransform(e,r,s);default:throw new Error("Unknown transformation: "+r)}else{const o=ha[r];if(!o)throw new Error("Unknown transformation: "+r);return o.untransform(e,s)}},de=(e,r)=>{if(r>e.size)throw new Error("index out of bounds");const s=e.keys();for(;r>0;)s.next(),r--;return s.next().value};function ma(e){if(je(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(je(e,"prototype"))throw new Error("prototype is not allowed as a property");if(je(e,"constructor"))throw new Error("constructor is not allowed as a property")}const Ic=(e,r)=>{ma(r);for(let s=0;s<r.length;s++){const o=r[s];if(Ae(e))e=de(e,+o);else if(ke(e)){const a=+o,l=+r[++s]==0?"key":"value",f=de(e,a);switch(l){case"key":e=f;break;case"value":e=e.get(f);break}}else e=e[o]}return e},Xr=(e,r,s)=>{if(ma(r),r.length===0)return s(e);let o=e;for(let l=0;l<r.length-1;l++){const f=r[l];if(ae(o)){const h=+f;o=o[h]}else if(we(o))o=o[f];else if(Ae(o)){const h=+f;o=de(o,h)}else if(ke(o)){if(l===r.length-2)break;const g=+f,S=+r[++l]==0?"key":"value",E=de(o,g);switch(S){case"key":o=E;break;case"value":o=o.get(E);break}}}const a=r[r.length-1];if(ae(o)?o[+a]=s(o[+a]):we(o)&&(o[a]=s(o[a])),Ae(o)){const l=de(o,+a),f=s(l);l!==f&&(o.delete(l),o.add(f))}if(ke(o)){const l=+r[r.length-2],f=de(o,l);switch(+a==0?"key":"value"){case"key":{const g=s(f);o.set(g,o.get(f)),g!==f&&o.delete(f);break}case"value":{o.set(f,s(o.get(f)));break}}}return e};function Kr(e,r,s=[]){if(!e)return;if(!ae(e)){he(e,(l,f)=>Kr(l,r,[...s,...Ie(f)]));return}const[o,a]=e;a&&he(a,(l,f)=>{Kr(l,r,[...s,...Ie(f)])}),r(o,s)}function wc(e,r,s){return Kr(r,(o,a)=>{e=Xr(e,a,l=>Sc(l,o,s))}),e}function kc(e,r){function s(o,a){const l=Ic(e,Ie(a));o.map(Ie).forEach(f=>{e=Xr(e,f,()=>l)})}if(ae(r)){const[o,a]=r;o.forEach(l=>{e=Xr(e,Ie(l),()=>e)}),a&&he(a,s)}else he(r,s);return e}const Ac=(e,r)=>we(e)||ae(e)||ke(e)||Ae(e)||pa(e,r);function xc(e,r,s){const o=s.get(e);o?o.push(r):s.set(e,[r])}function Oc(e,r){const s={};let o;return e.forEach(a=>{if(a.length<=1)return;r||(a=a.map(h=>h.map(String)).sort((h,g)=>h.length-g.length));const[l,...f]=a;l.length===0?o=f.map(mt):s[mt(l)]=f.map(mt)}),o?Hr(s)?[o]:[o,s]:Hr(s)?void 0:s}const va=(e,r,s,o,a=[],l=[],f=new Map)=>{const h=hc(e);if(!h){xc(e,a,r);const O=f.get(e);if(O)return o?{transformedValue:null}:O}if(!Ac(e,s)){const O=hu(e,s),j=O?{transformedValue:O.value,annotations:[O.type]}:{transformedValue:e};return h||f.set(e,j),j}if(je(l,e))return{transformedValue:null};const g=hu(e,s),S=g?.value??e,E=ae(S)?[]:{},x={};he(S,(O,j)=>{if(j==="__proto__"||j==="constructor"||j==="prototype")throw new Error(`Detected property ${j}. This is a prototype pollution risk, please remove it from your object.`);const N=va(O,r,s,o,[...a,j],[...l,e],f);E[j]=N.transformedValue,ae(N.annotations)?x[j]=N.annotations:we(N.annotations)&&he(N.annotations,(L,U)=>{x[aa(j)+"."+U]=L})});const w=Hr(x)?{transformedValue:E,annotations:g?[g.type]:void 0}:{transformedValue:E,annotations:g?[g.type,x]:x};return h||f.set(e,w),w};function _a(e){return Object.prototype.toString.call(e).slice(8,-1)}function mu(e){return _a(e)==="Array"}function Rc(e){if(_a(e)!=="Object")return!1;const r=Object.getPrototypeOf(e);return!!r&&r.constructor===Object&&r===Object.prototype}function Tc(e,r,s,o,a){const l={}.propertyIsEnumerable.call(o,r)?"enumerable":"nonenumerable";l==="enumerable"&&(e[r]=s),a&&l==="nonenumerable"&&Object.defineProperty(e,r,{value:s,enumerable:!1,writable:!0,configurable:!0})}function Wr(e,r={}){if(mu(e))return e.map(a=>Wr(a,r));if(!Rc(e))return e;const s=Object.getOwnPropertyNames(e),o=Object.getOwnPropertySymbols(e);return[...s,...o].reduce((a,l)=>{if(mu(r.props)&&!r.props.includes(l))return a;const f=e[l],h=Wr(f,r);return Tc(a,l,h,e,r.nonenumerable),a},{})}class M{constructor({dedupe:r=!1}={}){this.classRegistry=new nc,this.symbolRegistry=new sa(s=>s.description??""),this.customTransformerRegistry=new uc,this.allowedErrorProps=[],this.dedupe=r}serialize(r){const s=new Map,o=va(r,s,this,this.dedupe),a={json:o.transformedValue};o.annotations&&(a.meta={...a.meta,values:o.annotations});const l=Oc(s,this.dedupe);return l&&(a.meta={...a.meta,referentialEqualities:l}),a}deserialize(r){const{json:s,meta:o}=r;let a=Wr(s);return o?.values&&(a=wc(a,o.values,this)),o?.referentialEqualities&&(a=kc(a,o.referentialEqualities)),a}stringify(r){return JSON.stringify(this.serialize(r))}parse(r){return this.deserialize(JSON.parse(r))}registerClass(r,s){this.classRegistry.register(r,s)}registerSymbol(r,s){this.symbolRegistry.register(r,s)}registerCustom(r,s){this.customTransformerRegistry.register({name:s,...r})}allowErrorProps(...r){this.allowedErrorProps.push(...r)}}M.defaultInstance=new M;M.serialize=M.defaultInstance.serialize.bind(M.defaultInstance);M.deserialize=M.defaultInstance.deserialize.bind(M.defaultInstance);M.stringify=M.defaultInstance.stringify.bind(M.defaultInstance);M.parse=M.defaultInstance.parse.bind(M.defaultInstance);M.registerClass=M.defaultInstance.registerClass.bind(M.defaultInstance);M.registerSymbol=M.defaultInstance.registerSymbol.bind(M.defaultInstance);M.registerCustom=M.defaultInstance.registerCustom.bind(M.defaultInstance);M.allowErrorProps=M.defaultInstance.allowErrorProps.bind(M.defaultInstance);M.serialize;M.deserialize;M.stringify;M.parse;M.registerClass;M.registerCustom;M.registerSymbol;M.allowErrorProps;const ga="trader-db-name",ba="trader-object-store-name",vt=ia(ga,ba);function Pc(){return{getItem:async e=>{const r=await Ql(e,vt);return r?M.parse(r):null},setItem:async(e,r)=>{await ec(e,M.stringify(r),vt)},removeItem:async e=>{await tc(e,vt)}}}async function Dc(e,r){return new Promise((s,o)=>{const a=indexedDB.open(e);a.onerror=function(f){const h="Error. Opening connection to indexedDB is failed";console.error(h,f),o(h)},a.onsuccess=function(){const f=a.result;s(f)},a.onupgradeneeded=function(f){const h=f.target?.result;if(!h){const g="Error. Opening connection to indexedDB is failed";console.error(g,f),o(g);return}h.onerror=g=>{o(g)};try{return h.createObjectStore(r)}catch(g){console.error(g),o(g)}}})}async function rn(e,r,s){const a=(await Dc(e,r)).transaction([r],s);return a.oncomplete=()=>{},a.onerror=l=>{const f="Error. Transaction creation is failed";throw console.error(f,a.error,l),new Error(f)},a}function Cc(e){return new Promise((r,s)=>{const o=e.clear();o.onerror=a=>{const l="Error. Object store clearing is failed";console.error(l,a),s(l)},o.onsuccess=()=>{r("Success: Object store cleared")}})}async function Xy(e,r){try{const o=(await rn(e,r,"readwrite")).objectStore(r);await Cc(o)}catch(s){const o="Error. Impossible to clear indexedDB";return s?.name==="NotFoundError"?"Error. IndexedDB is empty":(console.error(o,s),`${o}. ${s}`)}}async function Fc(e){return new Promise((r,s)=>{const o=e.openCursor(),a={};o.onerror=l=>{const f="Error. objectStoreRequest failed";console.error(f,l),s({error:f})},o.onsuccess=l=>{const f=l.target?.result;if(f){const h=f.key,g=f.value;a[h]=g,f.continue()}else r({result:a})}})}async function Ky(e,r){try{const o=(await rn(e,r,"readwrite")).objectStore(r),{error:a,result:l}=await Fc(o);if(a)throw new Error(a);return{indexDBState:l}}catch(s){const o="Error. Impossible to read all records from indexedDB";return s?.name==="NotFoundError"?{indexDBState:void 0,error:void 0}:(console.error(o,s),{error:`${o}. ${s}`})}}async function qc(e,r,s){return new Promise((o,a)=>{const l=e.put(s,r);l.onerror=f=>{const h="Error. objectStoreRequest failed";console.error(h,f),a(h)},l.onsuccess=()=>{o(void 0)}})}async function Mc(e,r,s){try{const a=(await rn(e,r,"readwrite")).objectStore(r);Object.entries(s).forEach(([l,f])=>{qc(a,l,f)})}catch(o){return console.error(o),`${o}`}}const Ge="gzip",vu="trader_",xe="json",nn="gz",Ea="application/octet-stream",Sa=`${xe}.${nn}`,jc=[`.${xe}`,`.${Sa}`],Nc=jc.join(", ");function Lc(e,r){const s=e.name.split(".");let o=s.pop();return o===r&&(o=[s.pop(),o].join(".")),o}function Wy(e,r){const s=Lc(e,nn);return s?r.includes(`.${s}`):!1}async function $c(e){return new Promise((r,s)=>{const o=new FileReader;o.onload=()=>r(o),o.onerror=a=>s(a),o.readAsArrayBuffer(e)})}async function Uc(e){return new Promise((r,s)=>{const o=new FileReader;o.onload=()=>r(o),o.onerror=a=>s(a),o.readAsText(e)})}function _u(){return new Date().toISOString().replaceAll(":","-").replaceAll("T","_").replaceAll(/\.\d{3}Z/g,"")}function Ia(e,r){const s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function Bc(e,r){const s="data:text/plain;charset=utf-8,"+encodeURIComponent(r);Ia(e,s)}function Gc(e,r,s=Ea){const o=window.URL.createObjectURL(new Blob([r],{type:s}));Ia(e,o)}function zc(e){return M.stringify(e)}async function Jy(e){try{const r=zc(e),s=await Vc(r,Ge);if(s){const a=`${vu}${_u()}.${Sa}`;Gc(a,s,Ea);return}const o=`${vu}${_u()}.${xe}`;Bc(o,r)}catch(r){return console.error(r),r}}function Vc(e,r=Ge){try{const s=new TextEncoder().encode(e),o=new CompressionStream(r),a=o.writable.getWriter();return a.write(s),a.close(),new Response(o.readable).arrayBuffer()}catch(s){console.error(s);return}}function Hc(e,r=Ge){try{const s=new DecompressionStream(r),o=s.writable.getWriter();return o.write(e),o.close(),new Response(s.readable).arrayBuffer().then(a=>new TextDecoder().decode(a))}catch(s){console.error(s);return}}function Xc(e){return M.parse(e)}async function Kc(e){let r;const s=e.type;if(s==="application/gzip"||s==="application/x-gzip"){const o=(await $c(e)).result;if(r=await Hc(o,Ge),!r)return{jsonString:void 0,error:`Upload file error. Impossible to decompress file (${xe}.${nn} format)`}}else if(s==="application/json"){if(r=(await Uc(e)).result,!r)return{jsonString:void 0,error:`Upload file error. Impossible to read file (${xe} format)`}}else return{jsonString:void 0,error:`Upload file error. Unsupported file format. Only ${Nc} formats are supported`};return{jsonString:r,error:void 0}}async function Wc(e){try{const r=Xc(e);if(!r)return"Reading file error. Impossible to read json data from the file";if(await Mc(ga,ba,r))return"Reading file error. Impossible set data into the data storage (indexedDB)"}catch(r){return`Reading file error. ${r}`}}function Jc(e,r=""){const s=e.replace(/^[^/]*\//,"");return new Promise((o,a)=>{fetch(e).then(async function(f){const h=await f.blob(),g=new File([h],s,{type:r});o({file:g,error:void 0})}).catch(function(f){a({file:void 0,error:f})})})}function Zc(e){return Number.isFinite(e)}function Yc(){return{getItem:e=>{const r=window.localStorage.getItem(e);return r?M.parse(r):null},setItem:(e,r)=>{window.localStorage.setItem(e,M.stringify(r))},removeItem:e=>window.localStorage.removeItem(e)}}function Qc(){return{getItem:e=>{const r=window.sessionStorage.getItem(e);return r?M.parse(r):null},setItem:(e,r)=>{window.sessionStorage.setItem(e,M.stringify(r))},removeItem:e=>window.sessionStorage.removeItem(e)}}const ef="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let tf=(e=21)=>{let r="",s=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)r+=ef[s[e]&63];return r};const $e=()=>tf();function J(e){return Array.from(e.keys())}function ze(e){return Array.from(e.values())}const rf=e=>{if(typeof window>"u")return e;const r=s=>{s.key===e.persist.getOptions().name&&s.newValue&&e.persist.rehydrate()};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},gu=0;function bu(){return new Date().getTime()}function nf(e){const r=ze(e);if(r.length)return r.reduce((s,o)=>o.createdAt<s.createdAt?o:s,r[0])}function sf(e,r=1){const s=ze(e);return s.length?(s.sort((o,a)=>o.createdAt-a.createdAt),s.slice(0,r)):[]}function uf(e){return en({uuids:Array(),entities:new Map,isHydrated:!1,isHydrating:!1},(r,s)=>({items(){return ze(s().entities)},getByUuid(o){return s().entities.get(o)},create(o){const a={...o,uuid:$e(),createdAt:bu()};return r(l=>{const f=new Map(l.entities);if(f.set(a.uuid,a),f.size>=e){const h=nf(f);if(!h)return{entities:f,uuids:J(f)};f.delete(h.uuid)}return{entities:f,uuids:J(f)}}),a},update(o){const l=s().entities.get(o.uuid);if(!l)return;const h={...l,...o};return r(g=>{const S=new Map(g.entities);return S.set(h.uuid,h),{entities:S,uuids:J(S)}}),h},delete(o){r(a=>{const l=new Map(a.entities);return l.delete(o.uuid),{entities:l,uuids:J(l)}})},createMultiple(o){const a=o.map(l=>({...l,uuid:$e(),createdAt:bu()}));r(l=>{const f=new Map(l.entities);if(a.forEach(h=>{f.set(h.uuid,h)}),f.size>=e){const h=f.size-e;sf(f,h).forEach(S=>{f.delete(S.uuid)})}return{entities:f,uuids:J(f)}})},deleteMultiple(o){r(a=>{const l=new Map(a.entities);return o.forEach(f=>{l.delete(f)}),{entities:l,uuids:J(l)}})},clear(){r(()=>({entities:new Map,uuids:new Array}))},refreshUuids(){r(o=>({uuids:J(o.entities)}))},setIsHydrating(o){r(()=>({isHydrating:o}))},setIsHydrated(){r(o=>({isHydrated:!0,isHydrating:!1,uuids:J(o.entities)}))}}))}function of(){return en({uuids:Array(),entities:new Map,isHydrated:!1,isHydrating:!1},(e,r)=>({items(){return ze(r().entities)},getByUuid(s){return r().entities.get(s)},create(s){const o={...s,uuid:$e()};return e(a=>{const l=new Map(a.entities);return l.set(o.uuid,o),{entities:l,uuids:J(l)}}),o},update(s){const a=r().entities.get(s.uuid);if(!a)return;const f={...a,...s};return e(h=>{const g=new Map(h.entities);return g.set(f.uuid,f),{entities:g,uuids:J(g)}}),f},delete(s){e(o=>{const a=new Map(o.entities);return a.delete(s.uuid),{entities:a,uuids:J(a)}})},createMultiple(s){const o=s.map(a=>({...a,uuid:$e()}));e(a=>{const l=new Map(a.entities);return o.forEach(f=>{l.set(f.uuid,f)}),{entities:l,uuids:J(l)}})},deleteMultiple(s){e(o=>{const a=new Map(o.entities);return s.forEach(l=>{a.delete(l)}),{entities:a,uuids:J(a)}})},clear(){e(()=>({entities:new Map,uuids:new Array}))},refreshUuids(){e(s=>({uuids:J(s.entities)}))},setIsHydrating(s){e(()=>({isHydrating:s}))},setIsHydrated(){e(s=>({isHydrated:!0,isHydrating:!1,uuids:J(s.entities)}))}}))}function te({persistStorageItemKey:e,persistStorageType:r="indexedDB",maxCapacity:s,isListeningStorageDOMEvent:o=!0,skipHydration:a=!0}={}){let l;if(Zc(s)&&s>0?l=uf(s):l=of(),typeof e!="string"||!e)return Vr(l);let f;r==="indexedDB"?f=Pc():r==="sessionStorage"?f=Qc():f=Yc();const h=Vr(jl(l,{name:e,storage:f,skipHydration:!!a,onRehydrateStorage:g=>function(){window.setTimeout(function(){g.setIsHydrated(),window.setTimeout(function(){Tf(h)},gu)},gu)},partialize:g=>{const S=["isHydrated","isHydrating","uuids","items"];return Object.fromEntries(Object.entries(g).filter(([E])=>!S.includes(E)))}}));return o&&(r==="sessionStorage"||r==="localStorage")&&rf(h),h}const wa=te({persistStorageItemKey:"buy-orders"});function ka(){return wa.getState().items()}function Zy({locationUuid:e,productUuid:r}){return ka().find(o=>o.locationUuid===e&&o.productUuid===r)}function Yy({uuid:e,locationUuid:r,productUuid:s}){return ka().find(a=>a.uuid!==e&&a.productUuid===s&&a.locationUuid===r)}const Aa=te({persistStorageItemKey:"planetary-systems"});function xa(){return Aa.getState()}function af(){return xa().entities}function sn(){return xa().items()}function lf(e){return af().get(e)}function Oa(e){return sn().find(r=>r.name.localeCompare(e)===0)}function Qy({uuid:e,name:r}){const s=r.toLocaleLowerCase();return sn().find(o=>o.uuid!==e&&o.name.localeCompare(s)===0)}function ed({uuid:e,position:r}){return sn().find(s=>s.uuid!==e&&s.position===r)}const un=te({persistStorageItemKey:"locations"});function cf(){return un.getState().entities}function Oe(){return un.getState().items()}function ff(e){return cf().get(e)}function td({uuid:e,id:r}){if(!r)return;const s=r.toLocaleUpperCase();return Oe().find(o=>o.uuid!==e&&!!o.id&&o.id.localeCompare(s)===0)}function pf({id:e,name:r}){if(!(!e&&!r))return Oe().find(s=>e&&r?s.id===e&&s.name===r:e&&!r?s.id===e:s.name===r)}function rd({id:e,name:r,planetarySystemName:s}){if(!(!e&&!r&&!s)){if(s){const o=Oa(s);if(o){const a=o.uuid;return Oe().find(f=>e&&r?f.id===e&&f.name===r&&f.planetarySystemUuid===a:e&&!r?f.id===e&&f.planetarySystemUuid===a:f.name===r&&f.planetarySystemUuid===a)}}return pf({id:e,name:r})}}function nd(e){return Oe().filter(s=>s.planetarySystemUuid===e)}const Ra=te({persistStorageItemKey:"location-types"});function Ta(){return Ra.getState()}function yf(){return Ta().entities}function Pa(){return Ta().items()}function id(e){return yf().get(e)}function sd(e){return Pa().find(r=>r.name.localeCompare(e)===0)}function ud({uuid:e,name:r}){const s=r.toLocaleLowerCase();return Pa().find(o=>o.uuid!==e&&o.name.localeCompare(s)===0)}const on=te({persistStorageItemKey:"moving-entities"});function df(){return on.getState().entities}function Re(){return on.getState().items()}function od(e){return df().get(e)}function ad({uuid:e,id:r}){if(!r)return;const s=r.toLocaleUpperCase();return Re().find(o=>o.uuid!==e&&!!o.id&&o.id.localeCompare(s)===0)}function ld({uuid:e,originalId:r}){if(!r)return;const s=r.toLocaleUpperCase();return Re().find(o=>o.uuid!==e&&!!o.originalId&&o.originalId.localeCompare(s)===0)}function hf({id:e,name:r}){if(!(!e&&!r))return Re().find(s=>e&&r?s.id===e&&s.name===r:e&&!r?s.id===e:s.name===r)}function cd({id:e,name:r,planetarySystemName:s}){if(!(!e&&!r&&!s)){if(s){const o=Oa(s);if(o){const a=o.uuid,l=Re();let f=l.find(h=>e&&r?h.id===e&&h.name===r&&h.locationUuid===a:e&&!r?h.id===e&&h.locationUuid===a:h.name===r&&h.locationUuid===a);if(!f){const S=Oe().filter(E=>E.planetarySystemUuid===a).map(E=>E.uuid);f=l.find(E=>e&&r?E.id===e&&E.name===r&&S.includes(E.locationUuid):e&&!r?E.id===e&&S.includes(E.locationUuid):E.name===r&&S.includes(E.locationUuid))}return f}}return hf({id:e,name:r})}}function fd(e){return Re().filter(s=>{const o=s.locationUuid;if(!o)return!1;const a=ff(o);if(a)return a.planetarySystemUuid===e;const l=lf(o);if(l)return l.uuid===e})}const Ve=te({persistStorageItemKey:"moving-entity-classes"});function mf(){return Ve.getState().entities}function Da(){return Ve.getState().items()}function pd(){return Ve.getState().isHydrating}function yd(e){return mf().get(e)}function dd(e){return Da().find(r=>r.name.localeCompare(e)===0)}function hd({uuid:e,name:r}){const s=r.toLocaleLowerCase();return Da().find(o=>o.uuid!==e&&o.name.localeCompare(s)===0)}const vf=1e3,an=te({persistStorageItemKey:"prices-at-marks",maxCapacity:vf});function _f(){return an.getState().items()}function Ca(e){return _f().find(r=>r.orderUuid===e)}function gf(e){return e?(e?.pricesAtMarks.length||0)>1:!1}function md(e){const r=Ca(e);return gf(r)}function bf(e){an.getState().delete(e)}function vd(e){const r=Ca(e);r&&bf(r)}const He=te({persistStorageItemKey:"product-rarities"});function Ef(){return He.getState().entities}function ln(){return He.getState().items()}function _d(){return He.getState().isHydrating}function gd(e){return Ef().get(e)}function bd(e){return ln().find(r=>r.name.localeCompare(e)===0)}function Ed({uuid:e,name:r}){const s=r.toLocaleLowerCase();return ln().find(o=>o.uuid!==e&&o.name.localeCompare(s)===0)}function Sd({uuid:e,value:r}){return ln().find(s=>s.uuid!==e&&s.value===r)}const Xe=te({persistStorageItemKey:"products"});function Sf(){return Xe.getState().entities}function Fa(){return Xe.getState().items()}function Id(){return Xe.getState().isHydrating}function wd(e){return Sf().get(e)}function kd(e){return Fa().find(r=>r.name.localeCompare(e)===0)}function Ad({uuid:e,name:r}){const s=r.toLocaleLowerCase();return Fa().find(o=>o.uuid!==e&&o.name.localeCompare(s)===0)}const Ke=te({persistStorageItemKey:"product-types"});function If(){return Ke.getState().entities}function qa(){return Ke.getState().items()}function xd(){return Ke.getState().isHydrating}function Od(e){return If().get(e)}function Rd(e){return qa().find(r=>r.name.localeCompare(e)===0)}function Td({uuid:e,name:r}){const s=r.toLocaleLowerCase();return qa().find(o=>o.uuid!==e&&o.name.localeCompare(s)===0)}const Ma=te({persistStorageItemKey:"sell-orders"});function ja(){return Ma.getState().items()}function Pd({locationUuid:e,productUuid:r}){return ja().find(o=>o.locationUuid===e&&o.productUuid===r)}function Dd({uuid:e,locationUuid:r,productUuid:s}){return ja().find(a=>a.uuid!==e&&a.productUuid===s&&a.locationUuid===r)}const cn=te();function Eu(){return cn.getState().items()}function wf(e){return e?Eu().filter(r=>{if(!r.tags)return!1;const s=r.tags.filter(o=>e.includes(o));return s.length===r.tags.length&&s.length===e.length}):Eu().filter(r=>!r.tags)}function kf(e){return cn.getState().create(e)}function Af(e){return cn.getState().deleteMultiple(e)}function Ne(e){const r=e.tags;if(r?.length){const s=wf(r);if(s.length){const o=s.map(a=>a.uuid);Af(o)}}return kf(e)}const Na=Vr(en({isVisible:!1},e=>({setIsVisible:r=>{e(()=>({isVisible:r}))}})));function xf(){Na.setState({isVisible:!0})}function Cd(){Na.setState({isVisible:!1})}const Su="/trader/demo-data.json.gz",Jr=2*1e3,Le=Jr,oe=new Map,La=[Ma,wa,an,Xe,Ke,He,un,Ra,Aa,on,Ve],Of=["useSellOrdersStore","useBuyOrdersStore","usePriceHistoriesStore","useProductsStore","useProductTypesStore","useProductRaritiesStore","useLocationsStore","useLocationTypesStore","usePlanetarySystemsStore","useMovingEntitiesStore","useMovingEntityClassesStore"];La.map(e=>{oe.set(e,!1)});const $a=new Map;La.map((e,r)=>{$a.set(e,Of[r])});let Zr=!0;function Rf(){if(!Zr)return;const e=new Array;oe.forEach((r,s)=>{if(r){const o=$a.get(s);if(!o){console.error("");return}e.push(o)}}),e.length===oe.size&&xf()}function Tf(e){if(Zr&&oe.has(e)&&!oe.get(e)){const r=e.getState().isHydrated,s=e.getState().items,a=!!(typeof s=="function"?s():s).length,l=r&&a;oe.set(e,l),l?(Zr=!1,oe.clear()):(oe.set(e,!0),Rf())}}async function Iu(e,r){const{file:s,error:o}=await Jc(e,r);if(!s)return Ne({entityType:Me,messages:[()=>A.jsx(A.Fragment,{children:o})],hideTimeout:Le,tags:["storage-data-import-demo-data"],type:"error",title:"Loading demo data failed"}),!0;const{jsonString:a,error:l}=await Kc(s);if(!a||l)return Ne({entityType:Me,messages:[()=>A.jsx(A.Fragment,{children:l||"Data should be in json format"})],hideTimeout:Le,tags:["storage-data-import-demo-data"],type:"error",title:"Loading demo data failed"}),!0;const f=await Wc(a);return f?(Ne({entityType:Me,messages:[()=>A.jsx(A.Fragment,{children:f})],hideTimeout:Le,tags:["storage-data-import-demo-data"],type:"error",title:"Importing demo data failed"}),!0):!1}async function Fd(){await Iu(Su,"application/json")&&await Iu(Su,"application/gzip")||(Ne({entityType:Me,messages:[()=>A.jsxs(A.Fragment,{children:[A.jsx("div",{children:"Demo data were successfully imported."}),A.jsxs("div",{children:["Page will be reloaded in"," ",Math.ceil(Jr/1e3)," ","seconds to use demo data"]})]})],hideTimeout:Le,tags:["storage-data-import-demo-data"],type:"success",title:"Importing demo data"}),window.setTimeout(function(){window.location.reload()},Jr))}function qd(e){const[r,s]=D.useState(e),o=D.useCallback(()=>{s(!0)},[s]),a=D.useCallback(()=>{s(!1)},[s]),l=D.useCallback(()=>{s(f=>!f)},[s]);return{isVisible:r,show:o,hide:a,toggle:l}}const Yr=te();function Ua(){return Yr.getState().items()}function Pf(){const e=Ua(),r=e[e.length-1];if(r)return r}function Md(){const e=Ua(),r=e[e.length-2];if(r)return r}const Df="Escape";function jd({onClose:e,currentModalDialog:r}){D.useEffect(function(){if(typeof e!="function"||!r)return;function o(a){if(typeof e=="function"&&a.key===Df){const l=Pf();if(!Object.is(r,l))return;e()}}return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}},[e,r])}const Cf="modal-dialog",Ff=["uuid","entityType"];na(Ff);function Nd(){const e=Yr(a=>a.create),r=Yr(a=>a.delete),[s,o]=D.useState(void 0);return D.useEffect(function(){const l=e({entityType:Cf});return o(l),function(){o(void 0),r(l)}},[o,e,r]),s}const qf="Icon",Mf="Icon-",jf="_Icon_o9fck_1",Nf={Icon:jf},Ld=D.memo(function({className:r,name:s,title:o}){const a=D.useMemo(()=>Qr([qf,`${Mf}${s}`,Nf.Icon,r]),[r,s]);return A.jsx("i",{className:a,title:o})}),Lf="_FieldList_ay26f_1",$f="_Row_ay26f_7",Uf="_FieldsContainer_ay26f_25",_t={FieldList:Lf,Row:$f,FieldsContainer:Uf};function fe({autoFocus:e=!1,autoFocusDelay:r=50,retryFocusDelay:s=50}){const o=D.useRef(null),[a,l]=D.useState(e?()=>new Date().getTime():void 0),[f,h]=D.useState(!1);return D.useEffect(function(){if(!e||f||a===void 0)return;const S=o.current;let E;if(!S){E=window.setTimeout(function(){l(new Date().getTime())},s);return}if(!S.checkVisibility()){E=window.setTimeout(function(){l(new Date().getTime())},s);return}return E=window.setTimeout(function(){S.focus(),h(!0)},r),function(){window.clearTimeout(E)}},[e,r,s,f,a]),o}const Bf="_CheckboxGroupField_5zwp3_1",Gf="_Item_5zwp3_8",zf="_NoItemsLabel_5zwp3_13",Se={CheckboxGroupField:Bf,Item:Gf,NoItemsLabel:zf},Vf=D.memo(function({items:r,noItemsLabel:s="no items",defaultValue:o=[],disabled:a,name:l,autoFocusOnFirstRender:f}){const h=D.useMemo(()=>a,[a]),g=D.useCallback(E=>!!o.find(w=>w===E),[o]),S=fe({autoFocus:f});return A.jsxs("div",{className:Se.CheckboxGroupField,children:[!r.length&&A.jsx("div",{className:Se.NoItemsLabel,children:s}),r.length&&A.jsx(A.Fragment,{children:r.map(({value:E,label:x,disabled:w},O)=>A.jsxs("div",{className:Se.Item,children:[A.jsx("input",{ref:O===0?S:null,type:"checkbox",name:l,value:E,id:E,disabled:w||h,defaultChecked:g(E),className:Se.Checkbox}),A.jsx("label",{htmlFor:E,className:Se.CheckboxLabel,children:x})]},`${O}-${E}`))})]})}),Hf="_FileField_18uop_1",Xf={FileField:Hf},Kf=D.memo(function({onFieldValueChange:r,name:s,autoFocusOnFirstRender:o,...a}){const l=D.useCallback(h=>{if(typeof r!="function")return;if(!s){console.error("Error. Form field must have name");return}const g=h.target.value;r(s,g)},[r,s]),f=fe({autoFocus:o});return A.jsx("input",{ref:f,type:"file",className:Xf.FileField,name:s,onChange:l,...a})}),Wf=async e=>new Promise((r,s)=>{const o=new FileReader;o.onload=()=>r(o),o.onerror=a=>s(a),o.readAsDataURL(e)});function Jf(e,r){return new File([e],r,{type:e.type})}async function Zf(e,r){const s=new Blob([await e.arrayBuffer()]),o=URL.createObjectURL(s);return new Promise((a,l)=>{try{const f=new Image;f.onload=function(){try{let g=function(x){if(!x){l("Error. Impossible to read image data as blob from canvas");return}a(x)};URL.revokeObjectURL(o);const S=document.createElement("canvas");e.type==="image/svg"?(S.width=r?.width||f.naturalWidth,S.height=r?.height||f.naturalHeight):(S.width=f.naturalWidth,S.height=f.naturalHeight);const E=S.getContext("2d");if(!E){l("Error. Canvas 2d rendering context is not supported");return}E.drawImage(f,0,0),S.toBlob(g,"image/webp")}catch(g){l(g)}},f.onerror=h=>l(h),f.src=o}catch(f){l(f)}})}const Yf=async e=>new Promise((r,s)=>{fetch(e).then(o=>o.blob()).then(o=>r(o)).catch(o=>s(o))}),Qf="_ImageFileField_1ozj2_1",ep="_ExistingImageContainer_1ozj2_11",tp="_ImageContainer_1ozj2_18",rp="_Image_1ozj2_1",np="_ActionButtonGroup_1ozj2_40",ip="_LoadingProgressBar_1ozj2_51",ye={ImageFileField:Qf,ExistingImageContainer:ep,ImageContainer:tp,Image:rp,ActionButtonGroup:np,LoadingProgressBar:ip},sp=D.memo(function({onFieldValueChange:r,name:s,defaultValue:o,autoFocusOnFirstRender:a,...l}){const[f,h]=D.useState(),[g,S]=D.useState(o||""),[E,x]=D.useState(!1),[w,O]=D.useState(!1);D.useEffect(function(){async function K(){if(o?.length)try{x(!0);const I=await Yf(o),P=URL.createObjectURL(I);h(P),x(!1)}catch(I){console.warn("Warning. FileField default value can not be readed as blob",I),x(!1)}}return K(),function(){}},[o,h,x]),D.useEffect(function(){if(!f)return;const K=f;return function(){URL.revokeObjectURL(K)}},[f]);const j=D.useCallback(async Q=>{let K,I,P;try{const R=Q.target.files?.[0];if(!R)return;O(!0),K=await Zf(R),I=URL.createObjectURL(K);const k=Jf(K,"blob-converted-to-webp-format.webp"),T=(await Wf(k)).result;if(typeof T!="string"){console.error("Error reading the image as data url");return}P=T}catch(R){console.error(R),O(!1);return}if(S(P),h(I),O(!1),typeof r=="function"){if(!s){console.error("Error. Form field must have name");return}r(s,P);return}},[h,S,r,s,O]),N=D.useCallback(function(){window.open(f)},[f]),L=D.useCallback(function(){h(void 0),S("")},[h,S]),U=D.useMemo(()=>!!g?.length,[g]),Z=fe({autoFocus:a}),$=D.useId(),G=E||w;return A.jsxs(A.Fragment,{children:[G&&A.jsxs("div",{className:ye.LoadingProgressBar,children:[A.jsx("progress",{id:$,"aria-labelledby":$}),A.jsxs("label",{htmlFor:$,children:[w?"uploading":"loading"," ","image..."]})]}),!G&&A.jsx(A.Fragment,{children:U?A.jsxs("div",{className:ye.ExistingImageContainer,children:[A.jsx("input",{type:"hidden",name:s,defaultValue:g}),A.jsx("div",{className:ye.ImageContainer,children:A.jsx("img",{className:ye.Image,src:f,title:"uploaded file preview",alt:"uploaded file preview"})}),A.jsxs("div",{className:ye.ActionButtonGroup,children:[A.jsx(pu,{title:"open full size in new tab",onClick:N,children:"open full size"}),A.jsx(pu,{title:"delete image",onClick:L,children:"delete image"})]})]}):A.jsx("input",{ref:Z,type:"file",className:ye.ImageFileField,name:s,onChange:j,...l})})]})}),up="_InputField_ikonk_1",op="_Uppercase_ikonk_11",wu={InputField:up,Uppercase:op},ap=D.memo(function({type:r="text",autoComplete:s="off",onFieldValueChange:o,name:a,value:l,autoFocusOnFirstRender:f,uppercase:h,...g}){const S=D.useCallback(function(w){if(typeof o!="function")return;if(!a){console.error("Error. Form field must have name");return}const O=w.target.value;o(a,O)},[o,a]),E=fe({autoFocus:f});return A.jsx("input",{ref:E,autoComplete:s,type:r,className:Qr([wu.InputField,h&&wu.Uppercase]),name:a,value:l,onChange:S,...g})}),lp="_NumberField_14cz5_1",cp={NumberField:lp},fp=D.memo(function({name:r,min:s,max:o,formatValue:a,defaultValue:l,autoFocusOnFirstRender:f,...h}){const g=s??Number.MIN_SAFE_INTEGER,S=o??Number.MAX_SAFE_INTEGER,E=Math.max(g,Number.MIN_SAFE_INTEGER),x=Math.min(S,Number.MAX_SAFE_INTEGER),w=D.useMemo(function(){return typeof a=="function"?a(l):l},[a,l]),O=fe({autoFocus:f});return A.jsx(A.Fragment,{children:A.jsx("input",{ref:O,autoComplete:"off",type:"number",className:cp.NumberField,name:r,min:E,max:x,defaultValue:w,...h})})}),pp="_SelectField_1jo1y_1",yp="_NoOptionsLabel_1jo1y_10",qe={SelectField:pp,NoOptionsLabel:yp},dp=D.memo(function({options:r,showNoValueOption:s=!0,chooseOptionLabel:o="choose an option",noOptionsLabel:a="no options",disabled:l,allowToSelectNoValueOption:f=!1,onFieldValueChange:h,name:g,autoFocusOnFirstRender:S,...E}){const x=D.useCallback(O=>{if(typeof h!="function")return;if(!g){console.error("Error. Form field must have name");return}const j=O.target.value;h(g,j)},[h,g]),w=fe({autoFocus:S});return A.jsxs("select",{ref:w,autoComplete:"off",className:qe.SelectField,disabled:!r?.length||l,name:g,onChange:x,...E,children:[!r.length&&A.jsx("option",{value:"",className:qe.NoOptionsLabel,children:a}),r.length&&A.jsxs(A.Fragment,{children:[s&&A.jsx("option",{value:"",className:qe.DefaultSelectOption,disabled:!f,children:o}),r.map(({value:O,label:j,level:N,disabled:L},U)=>A.jsxs("option",{value:O,disabled:L,className:qe.SelectOption,children:[!!N&&A.jsx(A.Fragment,{children:Array(N).fill("").map((Z,$)=>A.jsx(D.Fragment,{children:"   "},$))}),j]},`${U}-${O}`))]})]})}),hp="_TextareaField_1s9r3_1",mp={TextareaField:hp},vp=D.memo(function({autoComplete:r="off",onFieldValueChange:s,name:o,value:a,autoFocusOnFirstRender:l,...f}){const h=D.useCallback(function(E){if(typeof s!="function")return;if(!o){console.error("Error. Form field must have name");return}const x=E.target.value;s(o,x)},[s,o]),g=fe({autoFocus:l});return A.jsx("textarea",{ref:g,autoComplete:r,className:mp.TextareaField,name:o,value:a,onChange:h,...f})});function Ba(e){return e?.type==="row-container"}function fn(e){const r=new Array;for(const s of e)if(Ba(s))for(const o of s.fields)r.push(o);else r.push(s);return r}function _p(e){return e?.type==="hidden"}function gp(e){return e?.type!=="hidden"}function bp(e){return e?.type==="text"||e?.type===void 0}function Ep(e){return e?.type==="multiline-text"}function Sp(e){return e?.type==="number"}function Ip(e){return e?.type==="select"}function wp(e){return e?.type==="checkbox-group"}function kp(e){return e?.type==="file"}const Ap="_FormFieldWrapper_ipl1k_1",xp="_FieldLabel_ipl1k_7",Op="_RequiredLabel_ipl1k_31",gt={FormFieldWrapper:Ap,FieldLabel:xp,RequiredLabel:Op},Rp=["number","text","multiline-text","select","checkbox","radio","file"],Ga=D.memo(function({name:r,label:s,type:o="text",hideFieldLabel:a,required:l,children:f}){const h={};return o&&Rp.includes(o)&&(h.htmlFor=r),A.jsxs("div",{className:gt.FormFieldWrapper,children:[!a&&!!s&&A.jsxs("label",{className:gt.FieldLabel,...h,children:[s,l?A.jsx("span",{className:gt.RequiredLabel,children:"(required)"}):""]}),f]})}),ku=D.memo(function({field:r,fieldValue:s,autoFocusOnFirstRender:o=!1,hideFieldLabel:a=!1}){return _p(r)?A.jsx("input",{type:"hidden",id:r.name,name:r.name,required:r.required,defaultValue:s??r.defaultValue},r.name):A.jsxs(Ga,{name:r.name,label:r.label??r.name,type:r.type==="file"&&r.accept==="image/*"&&(s??r.defaultValue)?"hidden":r.type,hideFieldLabel:a,required:r.required,children:[wp(r)&&A.jsx(Vf,{id:r.name,name:r.name,autoFocusOnFirstRender:o,required:r.required,items:r.items,defaultValue:s??r.defaultValue,noItemsLabel:r.noItemsLabel}),Ip(r)&&A.jsx(dp,{id:r.name,name:r.name,autoFocusOnFirstRender:o,required:r.required,options:r.options,defaultValue:s??r.defaultValue,chooseOptionLabel:r.chooseOptionLabel,noOptionsLabel:r.noOptionsLabel,allowToSelectNoValueOption:r.allowToSelectNoValueOption}),kp(r)&&A.jsx(A.Fragment,{children:r.accept==="image/*"?A.jsx(sp,{id:r.name,name:r.name,autoFocusOnFirstRender:o,required:r.required,defaultValue:s??r.defaultValue,accept:r.accept}):A.jsx(Kf,{id:r.name,name:r.name,autoFocusOnFirstRender:o,required:r.required,accept:r.accept})}),Sp(r)&&A.jsx(fp,{id:r.name,name:r.name,pattern:r.pattern,step:r.step,autoFocusOnFirstRender:o,required:r.required,defaultValue:s??r.defaultValue,formatValue:r.formatValue,min:r.min,max:r.max}),bp(r)&&A.jsx(ap,{id:r.name,name:r.name,type:r.type,autoFocusOnFirstRender:o,required:r.required,defaultValue:s??r.defaultValue,pattern:r.pattern,uppercase:r.uppercase}),Ep(r)&&A.jsx(vp,{id:r.name,name:r.name,autoFocusOnFirstRender:o,required:r.required,defaultValue:s??r.defaultValue})]})}),$d=D.memo(function({formFields:r,item:s}){const o=D.useMemo(function(){return fn(r).filter(gp)[0]?.name},[r]);return A.jsx("div",{className:_t.FieldList,children:A.jsx("div",{className:_t.FieldsContainer,children:r.map((a,l)=>{if(Ba(a)){const{label:g,labelForFieldName:S,fields:E,type:x}=a;return A.jsx(Ga,{name:S,label:g,type:x,children:A.jsx("div",{className:_t.Row,children:E.map(w=>{const O=s?.[w.name],j=o===w.name;return A.jsx(ku,{field:w,autoFocusOnFirstRender:j,fieldValue:O,hideFieldLabel:!0},w.name)})})},l)}const f=s?.[a.name],h=o===a.name;return A.jsx(ku,{field:a,autoFocusOnFirstRender:h,fieldValue:f},a.name)})})})}),Ud=(e,r,s)=>{D.useEffect(function(){const a=e.current;if(!a)return;function l(){const f=e.current;if(!f)return;fn(r).forEach(({name:g,defaultValue:S})=>{const E=f.querySelector(`[name="${g}"]`);E&&(E.value=S||"")}),typeof s=="function"&&s()}return a.addEventListener("reset",l),function(){a.removeEventListener("reset",l)}},[r,e,s])},Bd=({formRef:e,onSubmit:r,formFields:s,validateFormData:o,showErrorWhenAllVisibleFieldsEmpty:a=!1})=>{const[l,f]=D.useState(),h=D.useCallback(async function(S){S?.preventDefault();const E=e.current;if(!E)return;const x=Object.fromEntries(new FormData(E).entries()),w={},O=fn(s);for(const N of O){const{name:L,type:U,valueType:Z}=N;try{if(U===void 0||U==="text"||U==="multiline-text"||U==="hidden"||U==="select"||U==="checkbox-group"){const $=x[L];if(!$)continue;w[L]=$.trim()}else if(U==="number"){const $=x[L];if(!$)continue;let G;if(Z==="float"?G=Number.parseFloat($):G=Number.parseInt($),!Number.isFinite(G)){console.error("Error. Field value type should be a number");continue}w[L]=G}else if(U==="file"){const $=x[L];if(!$)continue;const G=$;if(G instanceof File&&G.size===0)continue;w[L]=G}}catch($){console.error("form field gathering data error",$);continue}}if(a){const N=[];if(O.forEach(({name:L,type:U})=>{U!=="hidden"&&w[L]&&N.push(L)}),!N.length){f(()=>A.jsx(A.Fragment,{children:"Please fill any field"}));return}}if(typeof o=="function"){const N=o(w);if(f(N),N)return}const j=await r(w);if(j){f(j);return}E.reset()},[e,s,a,o,r]);return D.useEffect(function(){const S=e.current;if(!S)return;const E=()=>{f(void 0)};return S.addEventListener("reset",E),function(){S.removeEventListener("reset",E)}},[e]),{handleSubmit:h,formValidationErrorMessage:l}};var H={},X={},Au;function Tp(){if(Au)return X;Au=1;const e=/^[A-Za-z]:\//;function r(I=""){return I&&I.replace(/\\/g,"/").replace(e,P=>P.toUpperCase())}const s=/^[/\\]{2}/,o=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,a=/^[A-Za-z]:$/,l=/^\/([A-Za-z]:)?$/,f="/",h=":",g=function(I){if(I.length===0)return".";I=r(I);const P=I.match(s),R=O(I),k=I[I.length-1]==="/";return I=w(I,!R),I.length===0?R?"/":k?"./":".":(k&&(I+="/"),a.test(I)&&(I+="/"),P?R?`//${I}`:`//./${I}`:R&&!O(I)?`/${I}`:I)},S=function(...I){if(I.length===0)return".";let P;for(const R of I)R&&R.length>0&&(P===void 0?P=R:P+=`/${R}`);return P===void 0?".":g(P.replace(/\/\/+/g,"/"))};function E(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const x=function(...I){I=I.map(k=>r(k));let P="",R=!1;for(let k=I.length-1;k>=-1&&!R;k--){const T=k>=0?I[k]:E();!T||T.length===0||(P=`${T}/${P}`,R=O(T))}return P=w(P,!R),R&&!O(P)?`/${P}`:P.length>0?P:"."};function w(I,P){let R="",k=0,T=-1,C=0,V=null;for(let B=0;B<=I.length;++B){if(B<I.length)V=I[B];else{if(V==="/")break;V="/"}if(V==="/"){if(!(T===B-1||C===1))if(C===2){if(R.length<2||k!==2||R[R.length-1]!=="."||R[R.length-2]!=="."){if(R.length>2){const me=R.lastIndexOf("/");me===-1?(R="",k=0):(R=R.slice(0,me),k=R.length-1-R.lastIndexOf("/")),T=B,C=0;continue}else if(R.length>0){R="",k=0,T=B,C=0;continue}}P&&(R+=R.length>0?"/..":"..",k=2)}else R.length>0?R+=`/${I.slice(T+1,B)}`:R=I.slice(T+1,B),k=B-T-1;T=B,C=0}else V==="."&&C!==-1?++C:C=-1}return R}const O=function(I){return o.test(I)},j=function(I){return r(I)},N=/.(\.[^./]+)$/,L=function(I){const P=N.exec(r(I));return P&&P[1]||""},U=function(I,P){const R=x(I).replace(l,"$1").split("/"),k=x(P).replace(l,"$1").split("/");if(k[0][1]===":"&&R[0][1]===":"&&R[0]!==k[0])return k.join("/");const T=[...R];for(const C of T){if(k[0]!==C)break;R.shift(),k.shift()}return[...R.map(()=>".."),...k].join("/")},Z=function(I){const P=r(I).replace(/\/$/,"").split("/").slice(0,-1);return P.length===1&&a.test(P[0])&&(P[0]+="/"),P.join("/")||(O(I)?"/":".")},$=function(I){const P=[I.root,I.dir,I.base??I.name+I.ext].filter(Boolean);return r(I.root?x(...P):P.join("/"))},G=function(I,P){const R=r(I).split("/").pop();return P&&R.endsWith(P)?R.slice(0,-P.length):R},Q=function(I){const P=r(I).split("/").shift()||"/",R=G(I),k=L(R);return{root:P,dir:Z(I),base:R,ext:k,name:R.slice(0,R.length-k.length)}},K={__proto__:null,basename:G,delimiter:h,dirname:Z,extname:L,format:$,isAbsolute:O,join:S,normalize:g,normalizeString:w,parse:Q,relative:U,resolve:x,sep:f,toNamespacedPath:j};return X.basename=G,X.delimiter=h,X.dirname=Z,X.extname=L,X.format=$,X.isAbsolute=O,X.join=S,X.normalize=g,X.normalizeString=w,X.normalizeWindowsPath=r,X.parse=Q,X.path=K,X.relative=U,X.resolve=x,X.sep=f,X.toNamespacedPath=j,X}var xu;function Pp(){if(xu)return H;xu=1,Object.defineProperty(H,"__esModule",{value:!0});const e=Tp();return H.basename=e.basename,H.default=e.path,H.delimiter=e.delimiter,H.dirname=e.dirname,H.extname=e.extname,H.format=e.format,H.isAbsolute=e.isAbsolute,H.join=e.join,H.normalize=e.normalize,H.normalizeString=e.normalizeString,H.parse=e.parse,H.relative=e.relative,H.resolve=e.resolve,H.sep=e.sep,H.toNamespacedPath=e.toNamespacedPath,H}var bt,Ou;function Dp(){if(Ou)return bt;Ou=1;var e=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,a=(i,n)=>{for(var t in n)e(i,t,{get:n[t],enumerable:!0})},l=(i,n,t,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of s(n))!o.call(i,c)&&c!==t&&e(i,c,{get:()=>n[c],enumerable:!(u=r(n,c))||u.enumerable});return i},f=i=>l(e({},"__esModule",{value:!0}),i),h={};a(h,{BASE64_REGEX:()=>S,BIC_REGEX:()=>E,CUID2_REGEX:()=>x,DECIMAL_REGEX:()=>w,EMAIL_REGEX:()=>O,EMOJI_REGEX:()=>j,HEXADECIMAL_REGEX:()=>N,HEX_COLOR_REGEX:()=>L,IMEI_REGEX:()=>U,IPV4_REGEX:()=>Z,IPV6_REGEX:()=>$,IP_REGEX:()=>G,ISO_DATE_REGEX:()=>Q,ISO_DATE_TIME_REGEX:()=>K,ISO_TIMESTAMP_REGEX:()=>R,ISO_TIME_REGEX:()=>I,ISO_TIME_SECOND_REGEX:()=>P,ISO_WEEK_REGEX:()=>k,MAC48_REGEX:()=>T,MAC64_REGEX:()=>C,MAC_REGEX:()=>V,NANO_ID_REGEX:()=>B,OCTAL_REGEX:()=>me,ULID_REGEX:()=>gn,UUID_REGEX:()=>bn,ValiError:()=>Pe,_addIssue:()=>v,_isLuhnAlgo:()=>et,_isValidObjectKey:()=>ce,_joinExpects:()=>ne,_stringify:()=>W,any:()=>ns,array:()=>is,arrayAsync:()=>ss,awaitAsync:()=>g,base64:()=>kn,bic:()=>An,bigint:()=>us,blob:()=>os,boolean:()=>as,brand:()=>xn,bytes:()=>On,check:()=>Rn,checkAsync:()=>Tn,checkItems:()=>Pn,config:()=>hl,creditCard:()=>Dn,cuid2:()=>Cn,custom:()=>ls,customAsync:()=>cs,date:()=>fs,decimal:()=>Fn,deleteGlobalConfig:()=>Qa,deleteGlobalMessage:()=>tl,deleteSchemaMessage:()=>nl,deleteSpecificMessage:()=>sl,description:()=>qn,email:()=>Mn,emoji:()=>jn,empty:()=>Nn,endsWith:()=>Ln,entriesFromList:()=>ol,enum:()=>st,enum_:()=>st,everyItem:()=>$n,excludes:()=>Un,fallback:()=>ml,fallbackAsync:()=>vl,file:()=>ps,filterItems:()=>Bn,findItem:()=>Gn,finite:()=>zn,flatten:()=>_l,forward:()=>gl,forwardAsync:()=>bl,function:()=>ut,function_:()=>ut,getDefault:()=>re,getDefaults:()=>tt,getDefaultsAsync:()=>rt,getDotPath:()=>wn,getFallback:()=>be,getFallbacks:()=>nt,getFallbacksAsync:()=>it,getGlobalConfig:()=>ve,getGlobalMessage:()=>En,getSchemaMessage:()=>Sn,getSpecificMessage:()=>In,hash:()=>Vn,hexColor:()=>Xn,hexadecimal:()=>Hn,imei:()=>Kn,includes:()=>Wn,instance:()=>ys,integer:()=>Jn,intersect:()=>ds,intersectAsync:()=>hs,ip:()=>Zn,ipv4:()=>Yn,ipv6:()=>Qn,is:()=>El,isOfKind:()=>al,isOfType:()=>ll,isValiError:()=>cl,isoDate:()=>ei,isoDateTime:()=>ti,isoTime:()=>ri,isoTimeSecond:()=>ni,isoTimestamp:()=>ii,isoWeek:()=>si,keyof:()=>Sl,lazy:()=>ms,lazyAsync:()=>vs,length:()=>ui,literal:()=>_s,looseObject:()=>gs,looseObjectAsync:()=>bs,looseTuple:()=>Es,looseTupleAsync:()=>Ss,mac:()=>oi,mac48:()=>ai,mac64:()=>li,map:()=>Is,mapAsync:()=>ws,mapItems:()=>ci,maxBytes:()=>fi,maxLength:()=>pi,maxSize:()=>yi,maxValue:()=>di,mimeType:()=>hi,minBytes:()=>mi,minLength:()=>vi,minSize:()=>_i,minValue:()=>gi,multipleOf:()=>bi,nan:()=>ks,nanoid:()=>Ei,never:()=>As,nonEmpty:()=>Si,nonNullable:()=>xs,nonNullableAsync:()=>Os,nonNullish:()=>Rs,nonNullishAsync:()=>Ts,nonOptional:()=>ot,nonOptionalAsync:()=>at,normalize:()=>Ii,notBytes:()=>wi,notLength:()=>ki,notSize:()=>Ai,notValue:()=>xi,null:()=>lt,null_:()=>lt,nullable:()=>Ps,nullableAsync:()=>Ds,nullish:()=>Cs,nullishAsync:()=>Fs,number:()=>qs,object:()=>Ms,objectAsync:()=>js,objectWithRest:()=>Ns,objectWithRestAsync:()=>Ls,octal:()=>Oi,omit:()=>Il,optional:()=>ct,optionalAsync:()=>ft,parse:()=>au,parseAsync:()=>lu,parser:()=>wl,parserAsync:()=>kl,partial:()=>Al,partialAsync:()=>xl,partialCheck:()=>Ti,partialCheckAsync:()=>Pi,pick:()=>Ol,picklist:()=>pt,pipe:()=>Rl,pipeAsync:()=>Tl,promise:()=>$s,rawCheck:()=>Di,rawCheckAsync:()=>Ci,rawTransform:()=>Fi,rawTransformAsync:()=>qi,readonly:()=>Mi,record:()=>Us,recordAsync:()=>Bs,reduceItems:()=>ji,regex:()=>Ni,required:()=>Pl,requiredAsync:()=>Dl,safeInteger:()=>Li,safeParse:()=>cu,safeParseAsync:()=>fu,safeParser:()=>Cl,safeParserAsync:()=>Fl,set:()=>Gs,setAsync:()=>zs,setGlobalConfig:()=>Ya,setGlobalMessage:()=>el,setSchemaMessage:()=>rl,setSpecificMessage:()=>il,size:()=>$i,someItem:()=>Ui,sortItems:()=>Bi,startsWith:()=>Gi,strictObject:()=>Vs,strictObjectAsync:()=>Hs,strictTuple:()=>Xs,strictTupleAsync:()=>Ks,string:()=>Ws,symbol:()=>Js,toLowerCase:()=>zi,toMaxValue:()=>Vi,toMinValue:()=>Hi,toUpperCase:()=>Xi,transform:()=>Ki,transformAsync:()=>Wi,trim:()=>Ji,trimEnd:()=>Zi,trimStart:()=>Yi,tuple:()=>Zs,tupleAsync:()=>Ys,tupleWithRest:()=>Qs,tupleWithRestAsync:()=>eu,ulid:()=>Qi,undefined:()=>yt,undefined_:()=>yt,undefinedable:()=>tu,undefinedableAsync:()=>ru,union:()=>nu,unionAsync:()=>iu,unknown:()=>su,unwrap:()=>ql,url:()=>es,uuid:()=>ts,value:()=>rs,variant:()=>uu,variantAsync:()=>ou,void:()=>dt,void_:()=>dt}),bt=f(h);function g(){return{kind:"transformation",type:"await",reference:g,async:!0,async _run(i){return i.value=await i.value,i}}}var S=/^(?:[\da-z+/]{4})*(?:[\da-z+/]{2}==|[\da-z+/]{3}=)?$/iu,E=/^[A-Z]{6}(?!00)[\dA-Z]{2}(?:[\dA-Z]{3})?$/u,x=/^[a-z][\da-z]*$/u,w=/^\d+$/u,O=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu,j=new RegExp("^(?:[\\u{1F1E6}-\\u{1F1FF}]{2}|\\u{1F3F4}[\\u{E0061}-\\u{E007A}]{2}[\\u{E0030}-\\u{E0039}\\u{E0061}-\\u{E007A}]{1,3}\\u{E007F}|(?:\\p{Emoji}\\uFE0F\\u20E3?|\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?|\\p{Emoji_Presentation})(?:\\u200D(?:\\p{Emoji}\\uFE0F\\u20E3?|\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?|\\p{Emoji_Presentation}))*)+$","u"),N=/^(?:0[hx])?[\da-f]+$/iu,L=/^#(?:[\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/iu,U=/^\d{15}$|^\d{2}-\d{6}-\d{6}-\d$/u,Z=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$/u,$=/^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,G=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$|^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu,Q=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])$/u,K=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])T(?:0\d|1\d|2[0-3]):[0-5]\d$/u,I=/^(?:0\d|1\d|2[0-3]):[0-5]\d$/u,P=/^(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}$/u,R=/^\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\d|0[1-9]|3[01])T(?:0\d|1\d|2[0-3])(?::[0-5]\d){2}(?:\.\d{1,9})?(?:Z|[+-](?:0\d|1\d|2[0-3])(?::?[0-5]\d)?)$/u,k=/^\d{4}-W(?:0[1-9]|[1-4]\d|5[0-3])$/u,T=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$/iu,C=/^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,V=/^(?:[\da-f]{2}:){5}[\da-f]{2}$|^(?:[\da-f]{2}-){5}[\da-f]{2}$|^(?:[\da-f]{4}\.){2}[\da-f]{4}$|^(?:[\da-f]{2}:){7}[\da-f]{2}$|^(?:[\da-f]{2}-){7}[\da-f]{2}$|^(?:[\da-f]{4}\.){3}[\da-f]{4}$|^(?:[\da-f]{4}:){3}[\da-f]{4}$/iu,B=/^[\w-]+$/u,me=/^(?:0o)?[0-7]+$/iu,gn=/^[\da-hjkmnp-tv-z]{26}$/iu,bn=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu,pe;function Ya(i){pe={...pe,...i}}function ve(i){return{lang:i?.lang??pe?.lang,message:i?.message,abortEarly:i?.abortEarly??pe?.abortEarly,abortPipeEarly:i?.abortPipeEarly??pe?.abortPipeEarly}}function Qa(){pe=void 0}var _e;function el(i,n){_e||(_e=new Map),_e.set(n,i)}function En(i){return _e?.get(i)}function tl(i){_e?.delete(i)}var ge;function rl(i,n){ge||(ge=new Map),ge.set(n,i)}function Sn(i){return ge?.get(i)}function nl(i){ge?.delete(i)}var le;function il(i,n,t){le||(le=new Map),le.get(i)||le.set(i,new Map),le.get(i).set(t,n)}function In(i,n){return le?.get(i)?.get(n)}function sl(i,n){le?.get(i)?.delete(n)}function W(i){const n=typeof i;return n==="string"?`"${i}"`:n==="number"||n==="bigint"||n==="boolean"?`${i}`:n==="object"||n==="function"?(i&&Object.getPrototypeOf(i)?.constructor?.name)??"null":n}function v(i,n,t,u,c){const y=c&&"input"in c?c.input:t.value,d=c?.expected??i.expects??null,m=c?.received??W(y),p={kind:i.kind,type:i.type,input:y,expected:d,received:m,message:`Invalid ${n}: ${d?`Expected ${d} but r`:"R"}eceived ${m}`,requirement:i.requirement,path:c?.path,issues:c?.issues,lang:u.lang,abortEarly:u.abortEarly,abortPipeEarly:u.abortPipeEarly},_=i.kind==="schema",b=c?.message??i.message??In(i.reference,p.lang)??(_?Sn(p.lang):null)??u.message??En(p.lang);b&&(p.message=typeof b=="function"?b(p):b),_&&(t.typed=!1),t.issues?t.issues.push(p):t.issues=[p]}var ul=/\D/gu;function et(i){const n=i.replace(ul,"");let t=n.length,u=1,c=0;for(;t;){const y=+n[--t];u^=1,c+=u?[0,2,4,6,8,1,3,5,7,9][y]:y}return c%10===0}function ce(i,n){return Object.hasOwn(i,n)&&n!=="__proto__"&&n!=="prototype"&&n!=="constructor"}function ne(i,n){const t=[...new Set(i)];return t.length>1?`(${t.join(` ${n} `)})`:t[0]??"never"}function ol(i,n){const t={};for(const u of i)t[u]=n;return t}function wn(i){if(i.path){let n="";for(const t of i.path)if(typeof t.key=="string"||typeof t.key=="number")n?n+=`.${t.key}`:n+=t.key;else return null;return n}return null}function al(i,n){return n.kind===i}function ll(i,n){return n.type===i}function cl(i){return i instanceof Pe}var Pe=class extends Error{issues;constructor(i){super(i[0].message),this.name="ValiError",this.issues=i}};function kn(i){return{kind:"validation",type:"base64",reference:kn,async:!1,expects:null,requirement:S,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"Base64",n,t),n}}}function An(i){return{kind:"validation",type:"bic",reference:An,async:!1,expects:null,requirement:E,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"BIC",n,t),n}}}function xn(i){return{kind:"transformation",type:"brand",reference:xn,async:!1,name:i,_run(n){return n}}}function On(i,n){return{kind:"validation",type:"bytes",reference:On,async:!1,expects:`${i}`,requirement:i,message:n,_run(t,u){if(t.typed){const c=new TextEncoder().encode(t.value).length;c!==this.requirement&&v(this,"bytes",t,u,{received:`${c}`})}return t}}}function Rn(i,n){return{kind:"validation",type:"check",reference:Rn,async:!1,expects:null,requirement:i,message:n,_run(t,u){return t.typed&&!this.requirement(t.value)&&v(this,"input",t,u),t}}}function Tn(i,n){return{kind:"validation",type:"check",reference:Tn,async:!0,expects:null,requirement:i,message:n,async _run(t,u){return t.typed&&!await this.requirement(t.value)&&v(this,"input",t,u),t}}}function Pn(i,n){return{kind:"validation",type:"check_items",reference:Pn,async:!1,expects:null,requirement:i,message:n,_run(t,u){if(t.typed)for(let c=0;c<t.value.length;c++){const y=t.value[c];this.requirement(y,c,t.value)||v(this,"item",t,u,{input:y,path:[{type:"array",origin:"value",input:t.value,key:c,value:y}]})}return t}}}var fl=/^(?:\d{14,19}|\d{4}(?: \d{3,6}){2,4}|\d{4}(?:-\d{3,6}){2,4})$/u,pl=/[- ]/gu,yl=[/^3[47]\d{13}$/u,/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,/^6(?:011|5\d{2})\d{12,15}$/u,/^(?:2131|1800|35\d{3})\d{11}$/u,/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,/^(?:6[27]\d{14,17}|81\d{14,17})$/u,/^4\d{12}(?:\d{3,6})?$/u];function Dn(i){return{kind:"validation",type:"credit_card",reference:Dn,async:!1,expects:null,requirement(n){let t;return fl.test(n)&&(t=n.replace(pl,""))&&yl.some(u=>u.test(t))&&et(t)},message:i,_run(n,t){return n.typed&&!this.requirement(n.value)&&v(this,"credit card",n,t),n}}}function Cn(i){return{kind:"validation",type:"cuid2",reference:Cn,async:!1,expects:null,requirement:x,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"Cuid2",n,t),n}}}function Fn(i){return{kind:"validation",type:"decimal",reference:Fn,async:!1,expects:null,requirement:w,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"decimal",n,t),n}}}function qn(i){return{kind:"metadata",type:"description",reference:qn,description:i}}function Mn(i){return{kind:"validation",type:"email",reference:Mn,expects:null,async:!1,requirement:O,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"email",n,t),n}}}function jn(i){return{kind:"validation",type:"emoji",reference:jn,async:!1,expects:null,requirement:j,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"emoji",n,t),n}}}function Nn(i){return{kind:"validation",type:"empty",reference:Nn,async:!1,expects:"0",message:i,_run(n,t){return n.typed&&n.value.length>0&&v(this,"length",n,t,{received:`${n.value.length}`}),n}}}function Ln(i,n){return{kind:"validation",type:"ends_with",reference:Ln,async:!1,expects:`"${i}"`,requirement:i,message:n,_run(t,u){return t.typed&&!t.value.endsWith(this.requirement)&&v(this,"end",t,u,{received:`"${t.value.slice(-this.requirement.length)}"`}),t}}}function $n(i,n){return{kind:"validation",type:"every_item",reference:$n,async:!1,expects:null,requirement:i,message:n,_run(t,u){return t.typed&&!t.value.every(this.requirement)&&v(this,"item",t,u),t}}}function Un(i,n){const t=W(i);return{kind:"validation",type:"excludes",reference:Un,async:!1,expects:`!${t}`,requirement:i,message:n,_run(u,c){return u.typed&&u.value.includes(this.requirement)&&v(this,"content",u,c,{received:t}),u}}}function Bn(i){return{kind:"transformation",type:"filter_items",reference:Bn,async:!1,operation:i,_run(n){return n.value=n.value.filter(this.operation),n}}}function Gn(i){return{kind:"transformation",type:"find_item",reference:Gn,async:!1,operation:i,_run(n){return n.value=n.value.find(this.operation),n}}}function zn(i){return{kind:"validation",type:"finite",reference:zn,async:!1,expects:null,requirement:Number.isFinite,message:i,_run(n,t){return n.typed&&!this.requirement(n.value)&&v(this,"finite",n,t),n}}}var dl={md4:32,md5:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8,adler32:8};function Vn(i,n){return{kind:"validation",type:"hash",reference:Vn,expects:null,async:!1,requirement:RegExp(i.map(t=>`^[a-f0-9]{${dl[t]}}$`).join("|"),"iu"),message:n,_run(t,u){return t.typed&&!this.requirement.test(t.value)&&v(this,"hash",t,u),t}}}function Hn(i){return{kind:"validation",type:"hexadecimal",reference:Hn,async:!1,expects:null,requirement:N,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"hexadecimal",n,t),n}}}function Xn(i){return{kind:"validation",type:"hex_color",reference:Xn,async:!1,expects:null,requirement:L,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"hex color",n,t),n}}}function Kn(i){return{kind:"validation",type:"imei",reference:Kn,async:!1,expects:null,requirement(n){return U.test(n)&&et(n)},message:i,_run(n,t){return n.typed&&!this.requirement(n.value)&&v(this,"IMEI",n,t),n}}}function Wn(i,n){const t=W(i);return{kind:"validation",type:"includes",reference:Wn,async:!1,expects:t,requirement:i,message:n,_run(u,c){return u.typed&&!u.value.includes(this.requirement)&&v(this,"content",u,c,{received:`!${t}`}),u}}}function Jn(i){return{kind:"validation",type:"integer",reference:Jn,async:!1,expects:null,requirement:Number.isInteger,message:i,_run(n,t){return n.typed&&!this.requirement(n.value)&&v(this,"integer",n,t),n}}}function Zn(i){return{kind:"validation",type:"ip",reference:Zn,async:!1,expects:null,requirement:G,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"IP",n,t),n}}}function Yn(i){return{kind:"validation",type:"ipv4",reference:Yn,async:!1,expects:null,requirement:Z,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"IPv4",n,t),n}}}function Qn(i){return{kind:"validation",type:"ipv6",reference:Qn,async:!1,expects:null,requirement:$,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"IPv6",n,t),n}}}function ei(i){return{kind:"validation",type:"iso_date",reference:ei,async:!1,expects:null,requirement:Q,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"date",n,t),n}}}function ti(i){return{kind:"validation",type:"iso_date_time",reference:ti,async:!1,expects:null,requirement:K,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"date-time",n,t),n}}}function ri(i){return{kind:"validation",type:"iso_time",reference:ri,async:!1,expects:null,requirement:I,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"time",n,t),n}}}function ni(i){return{kind:"validation",type:"iso_time_second",reference:ni,async:!1,expects:null,requirement:P,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"time-second",n,t),n}}}function ii(i){return{kind:"validation",type:"iso_timestamp",reference:ii,async:!1,expects:null,requirement:R,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"timestamp",n,t),n}}}function si(i){return{kind:"validation",type:"iso_week",reference:si,async:!1,expects:null,requirement:k,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"week",n,t),n}}}function ui(i,n){return{kind:"validation",type:"length",reference:ui,async:!1,expects:`${i}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value.length!==this.requirement&&v(this,"length",t,u,{received:`${t.value.length}`}),t}}}function oi(i){return{kind:"validation",type:"mac",reference:oi,async:!1,expects:null,requirement:V,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"MAC",n,t),n}}}function ai(i){return{kind:"validation",type:"mac48",reference:ai,async:!1,expects:null,requirement:T,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"48-bit MAC",n,t),n}}}function li(i){return{kind:"validation",type:"mac64",reference:li,async:!1,expects:null,requirement:C,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"64-bit MAC",n,t),n}}}function ci(i){return{kind:"transformation",type:"map_items",reference:ci,async:!1,operation:i,_run(n){return n.value=n.value.map(this.operation),n}}}function fi(i,n){return{kind:"validation",type:"max_bytes",reference:fi,async:!1,expects:`<=${i}`,requirement:i,message:n,_run(t,u){if(t.typed){const c=new TextEncoder().encode(t.value).length;c>this.requirement&&v(this,"bytes",t,u,{received:`${c}`})}return t}}}function pi(i,n){return{kind:"validation",type:"max_length",reference:pi,async:!1,expects:`<=${i}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value.length>this.requirement&&v(this,"length",t,u,{received:`${t.value.length}`}),t}}}function yi(i,n){return{kind:"validation",type:"max_size",reference:yi,async:!1,expects:`<=${i}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value.size>this.requirement&&v(this,"size",t,u,{received:`${t.value.size}`}),t}}}function di(i,n){return{kind:"validation",type:"max_value",reference:di,async:!1,expects:`<=${i instanceof Date?i.toJSON():W(i)}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value>this.requirement&&v(this,"value",t,u,{received:t.value instanceof Date?t.value.toJSON():W(t.value)}),t}}}function hi(i,n){return{kind:"validation",type:"mime_type",reference:hi,async:!1,expects:ne(i.map(t=>`"${t}"`),"|"),requirement:i,message:n,_run(t,u){return t.typed&&!this.requirement.includes(t.value.type)&&v(this,"MIME type",t,u,{received:`"${t.value.type}"`}),t}}}function mi(i,n){return{kind:"validation",type:"min_bytes",reference:mi,async:!1,expects:`>=${i}`,requirement:i,message:n,_run(t,u){if(t.typed){const c=new TextEncoder().encode(t.value).length;c<this.requirement&&v(this,"bytes",t,u,{received:`${c}`})}return t}}}function vi(i,n){return{kind:"validation",type:"min_length",reference:vi,async:!1,expects:`>=${i}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value.length<this.requirement&&v(this,"length",t,u,{received:`${t.value.length}`}),t}}}function _i(i,n){return{kind:"validation",type:"min_size",reference:_i,async:!1,expects:`>=${i}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value.size<this.requirement&&v(this,"size",t,u,{received:`${t.value.size}`}),t}}}function gi(i,n){return{kind:"validation",type:"min_value",reference:gi,async:!1,expects:`>=${i instanceof Date?i.toJSON():W(i)}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value<this.requirement&&v(this,"value",t,u,{received:t.value instanceof Date?t.value.toJSON():W(t.value)}),t}}}function bi(i,n){return{kind:"validation",type:"multiple_of",reference:bi,async:!1,expects:`%${i}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value%this.requirement!==0&&v(this,"multiple",t,u),t}}}function Ei(i){return{kind:"validation",type:"nanoid",reference:Ei,async:!1,expects:null,requirement:B,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"Nano ID",n,t),n}}}function Si(i){return{kind:"validation",type:"non_empty",reference:Si,async:!1,expects:"!0",message:i,_run(n,t){return n.typed&&n.value.length===0&&v(this,"length",n,t,{received:"0"}),n}}}function Ii(i){return{kind:"transformation",type:"normalize",reference:Ii,async:!1,form:i,_run(n){return n.value=n.value.normalize(this.form),n}}}function wi(i,n){return{kind:"validation",type:"not_bytes",reference:wi,async:!1,expects:`!${i}`,requirement:i,message:n,_run(t,u){if(t.typed){const c=new TextEncoder().encode(t.value).length;c===this.requirement&&v(this,"bytes",t,u,{received:`${c}`})}return t}}}function ki(i,n){return{kind:"validation",type:"not_length",reference:ki,async:!1,expects:`!${i}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value.length===this.requirement&&v(this,"length",t,u,{received:`${t.value.length}`}),t}}}function Ai(i,n){return{kind:"validation",type:"not_size",reference:Ai,async:!1,expects:`!${i}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value.size===this.requirement&&v(this,"size",t,u,{received:`${t.value.size}`}),t}}}function xi(i,n){return{kind:"validation",type:"not_value",reference:xi,async:!1,expects:i instanceof Date?`!${i.toJSON()}`:`!${W(i)}`,requirement:i,message:n,_run(t,u){return t.typed&&this.requirement<=t.value&&this.requirement>=t.value&&v(this,"value",t,u,{received:t.value instanceof Date?t.value.toJSON():W(t.value)}),t}}}function Oi(i){return{kind:"validation",type:"octal",reference:Oi,async:!1,expects:null,requirement:me,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"octal",n,t),n}}}function Ri(i,n){if(i.issues)for(const t of n)for(const u of i.issues){let c=!1;const y=Math.min(t.length,u.path?.length??0);for(let d=0;d<y;d++)if(t[d]!==u.path[d].key){c=!0;break}if(!c)return!1}return!0}function Ti(i,n,t){return{kind:"validation",type:"partial_check",reference:Ti,async:!1,expects:null,requirement:n,message:t,_run(u,c){return Ri(u,i)&&!this.requirement(u.value)&&v(this,"input",u,c),u}}}function Pi(i,n,t){return{kind:"validation",type:"partial_check",reference:Pi,async:!0,expects:null,requirement:n,message:t,async _run(u,c){return Ri(u,i)&&!await this.requirement(u.value)&&v(this,"input",u,c),u}}}function Di(i){return{kind:"validation",type:"raw_check",reference:Di,async:!1,expects:null,_run(n,t){return i({dataset:n,config:t,addIssue:u=>v(this,u?.label??"input",n,t,u)}),n}}}function Ci(i){return{kind:"validation",type:"raw_check",reference:Ci,async:!0,expects:null,async _run(n,t){return await i({dataset:n,config:t,addIssue:u=>v(this,u?.label??"input",n,t,u)}),n}}}function Fi(i){return{kind:"transformation",type:"raw_transform",reference:Fi,async:!1,_run(n,t){const u=i({dataset:n,config:t,addIssue:c=>v(this,c?.label??"input",n,t,c),NEVER:null});return n.issues?n.typed=!1:n.value=u,n}}}function qi(i){return{kind:"transformation",type:"raw_transform",reference:qi,async:!0,async _run(n,t){const u=await i({dataset:n,config:t,addIssue:c=>v(this,c?.label??"input",n,t,c),NEVER:null});return n.issues?n.typed=!1:n.value=u,n}}}function Mi(){return{kind:"transformation",type:"readonly",reference:Mi,async:!1,_run(i){return i}}}function ji(i,n){return{kind:"transformation",type:"reduce_items",reference:ji,async:!1,operation:i,initial:n,_run(t){return t.value=t.value.reduce(this.operation,this.initial),t}}}function Ni(i,n){return{kind:"validation",type:"regex",reference:Ni,async:!1,expects:`${i}`,requirement:i,message:n,_run(t,u){return t.typed&&!this.requirement.test(t.value)&&v(this,"format",t,u),t}}}function Li(i){return{kind:"validation",type:"safe_integer",reference:Li,async:!1,expects:null,requirement:Number.isSafeInteger,message:i,_run(n,t){return n.typed&&!this.requirement(n.value)&&v(this,"safe integer",n,t),n}}}function $i(i,n){return{kind:"validation",type:"size",reference:$i,async:!1,expects:`${i}`,requirement:i,message:n,_run(t,u){return t.typed&&t.value.size!==this.requirement&&v(this,"size",t,u,{received:`${t.value.size}`}),t}}}function Ui(i,n){return{kind:"validation",type:"some_item",reference:Ui,async:!1,expects:null,requirement:i,message:n,_run(t,u){return t.typed&&!t.value.some(this.requirement)&&v(this,"item",t,u),t}}}function Bi(i){return{kind:"transformation",type:"sort_items",reference:Bi,async:!1,operation:i,_run(n){return n.value=n.value.sort(this.operation),n}}}function Gi(i,n){return{kind:"validation",type:"starts_with",reference:Gi,async:!1,expects:`"${i}"`,requirement:i,message:n,_run(t,u){return t.typed&&!t.value.startsWith(this.requirement)&&v(this,"start",t,u,{received:`"${t.value.slice(0,this.requirement.length)}"`}),t}}}function zi(){return{kind:"transformation",type:"to_lower_case",reference:zi,async:!1,_run(i){return i.value=i.value.toLowerCase(),i}}}function Vi(i){return{kind:"transformation",type:"to_max_value",reference:Vi,async:!1,requirement:i,_run(n){return n.value=n.value>this.requirement?this.requirement:n.value,n}}}function Hi(i){return{kind:"transformation",type:"to_min_value",reference:Hi,async:!1,requirement:i,_run(n){return n.value=n.value<this.requirement?this.requirement:n.value,n}}}function Xi(){return{kind:"transformation",type:"to_upper_case",reference:Xi,async:!1,_run(i){return i.value=i.value.toUpperCase(),i}}}function Ki(i){return{kind:"transformation",type:"transform",reference:Ki,async:!1,operation:i,_run(n){return n.value=this.operation(n.value),n}}}function Wi(i){return{kind:"transformation",type:"transform",reference:Wi,async:!0,operation:i,async _run(n){return n.value=await this.operation(n.value),n}}}function Ji(){return{kind:"transformation",type:"trim",reference:Ji,async:!1,_run(i){return i.value=i.value.trim(),i}}}function Zi(){return{kind:"transformation",type:"trim_end",reference:Zi,async:!1,_run(i){return i.value=i.value.trimEnd(),i}}}function Yi(){return{kind:"transformation",type:"trim_start",reference:Yi,async:!1,_run(i){return i.value=i.value.trimStart(),i}}}function Qi(i){return{kind:"validation",type:"ulid",reference:Qi,async:!1,expects:null,requirement:gn,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"ULID",n,t),n}}}function es(i){return{kind:"validation",type:"url",reference:es,async:!1,expects:null,requirement(n){try{return new URL(n),!0}catch{return!1}},message:i,_run(n,t){return n.typed&&!this.requirement(n.value)&&v(this,"URL",n,t),n}}}function ts(i){return{kind:"validation",type:"uuid",reference:ts,async:!1,expects:null,requirement:bn,message:i,_run(n,t){return n.typed&&!this.requirement.test(n.value)&&v(this,"UUID",n,t),n}}}function rs(i,n){return{kind:"validation",type:"value",reference:rs,async:!1,expects:i instanceof Date?i.toJSON():W(i),requirement:i,message:n,_run(t,u){return t.typed&&!(this.requirement<=t.value&&this.requirement>=t.value)&&v(this,"value",t,u,{received:t.value instanceof Date?t.value.toJSON():W(t.value)}),t}}}function hl(i,n){return{...i,_run(t,u){return i._run(t,{...u,...n})}}}function be(i,n,t){return typeof i.fallback=="function"?i.fallback(n,t):i.fallback}function ml(i,n){return{...i,fallback:n,_run(t,u){const c=i._run(t,u);return c.issues?{typed:!0,value:be(this,c,u)}:c}}}function vl(i,n){return{...i,fallback:n,async:!0,async _run(t,u){const c=await i._run(t,u);return c.issues?{typed:!0,value:await be(this,c,u)}:c}}}function _l(i){const n={};for(const t of i)if(t.path){const u=wn(t);u?(n.nested||(n.nested={}),n.nested[u]?n.nested[u].push(t.message):n.nested[u]=[t.message]):n.other?n.other.push(t.message):n.other=[t.message]}else n.root?n.root.push(t.message):n.root=[t.message];return n}function gl(i,n){return{...i,_run(t,u){const c=t.issues&&[...t.issues];if(i._run(t,u),t.issues){for(const y of t.issues)if(!c?.includes(y)){let d=t.value;for(const m of n){const p=d[m],_={type:"unknown",origin:"value",input:d,key:m,value:p};if(y.path?y.path.push(_):y.path=[_],!p)break;d=p}}}return t}}}function bl(i,n){return{...i,async:!0,async _run(t,u){const c=t.issues&&[...t.issues];if(await i._run(t,u),t.issues){for(const y of t.issues)if(!c?.includes(y)){let d=t.value;for(const m of n){const p=d[m],_={type:"unknown",origin:"value",input:d,key:m,value:p};if(y.path?y.path.push(_):y.path=[_],!p)break;d=p}}}return t}}}function re(i,n,t){return typeof i.default=="function"?i.default(n,t):i.default}function tt(i){if("entries"in i){const n={};for(const t in i.entries)n[t]=tt(i.entries[t]);return n}return"items"in i?i.items.map(tt):re(i)}async function rt(i){return"entries"in i?Object.fromEntries(await Promise.all(Object.entries(i.entries).map(async([n,t])=>[n,await rt(t)]))):"items"in i?Promise.all(i.items.map(rt)):re(i)}function nt(i){if("entries"in i){const n={};for(const t in i.entries)n[t]=nt(i.entries[t]);return n}return"items"in i?i.items.map(nt):be(i)}async function it(i){return"entries"in i?Object.fromEntries(await Promise.all(Object.entries(i.entries).map(async([n,t])=>[n,await it(t)]))):"items"in i?Promise.all(i.items.map(it)):be(i)}function El(i,n){return!i._run({typed:!1,value:n},{abortEarly:!0}).issues}function ns(){return{kind:"schema",type:"any",reference:ns,expects:"any",async:!1,_run(i){return i.typed=!0,i}}}function is(i,n){return{kind:"schema",type:"array",reference:is,expects:"Array",async:!1,item:i,message:n,_run(t,u){const c=t.value;if(Array.isArray(c)){t.typed=!0,t.value=[];for(let y=0;y<c.length;y++){const d=c[y],m=this.item._run({typed:!1,value:d},u);if(m.issues){const p={type:"array",origin:"value",input:c,key:y,value:d};for(const _ of m.issues)_.path?_.path.unshift(p):_.path=[p],t.issues?.push(_);if(t.issues||(t.issues=m.issues),u.abortEarly){t.typed=!1;break}}m.typed||(t.typed=!1),t.value.push(m.value)}}else v(this,"type",t,u);return t}}}function ss(i,n){return{kind:"schema",type:"array",reference:ss,expects:"Array",async:!0,item:i,message:n,async _run(t,u){const c=t.value;if(Array.isArray(c)){t.typed=!0,t.value=[];const y=await Promise.all(c.map(d=>this.item._run({typed:!1,value:d},u)));for(let d=0;d<y.length;d++){const m=y[d];if(m.issues){const p={type:"array",origin:"value",input:c,key:d,value:c[d]};for(const _ of m.issues)_.path?_.path.unshift(p):_.path=[p],t.issues?.push(_);if(t.issues||(t.issues=m.issues),u.abortEarly){t.typed=!1;break}}m.typed||(t.typed=!1),t.value.push(m.value)}}else v(this,"type",t,u);return t}}}function us(i){return{kind:"schema",type:"bigint",reference:us,expects:"bigint",async:!1,message:i,_run(n,t){return typeof n.value=="bigint"?n.typed=!0:v(this,"type",n,t),n}}}function os(i){return{kind:"schema",type:"blob",reference:os,expects:"Blob",async:!1,message:i,_run(n,t){return n.value instanceof Blob?n.typed=!0:v(this,"type",n,t),n}}}function as(i){return{kind:"schema",type:"boolean",reference:as,expects:"boolean",async:!1,message:i,_run(n,t){return typeof n.value=="boolean"?n.typed=!0:v(this,"type",n,t),n}}}function ls(i,n){return{kind:"schema",type:"custom",reference:ls,expects:"unknown",async:!1,check:i,message:n,_run(t,u){return this.check(t.value)?t.typed=!0:v(this,"type",t,u),t}}}function cs(i,n){return{kind:"schema",type:"custom",reference:cs,expects:"unknown",async:!0,check:i,message:n,async _run(t,u){return await this.check(t.value)?t.typed=!0:v(this,"type",t,u),t}}}function fs(i){return{kind:"schema",type:"date",reference:fs,expects:"Date",async:!1,message:i,_run(n,t){return n.value instanceof Date?isNaN(n.value)?v(this,"type",n,t,{received:'"Invalid Date"'}):n.typed=!0:v(this,"type",n,t),n}}}function st(i,n){const t=Object.entries(i).filter(([u])=>isNaN(+u)).map(([,u])=>u);return{kind:"schema",type:"enum",reference:st,expects:ne(t.map(W),"|"),async:!1,enum:i,options:t,message:n,_run(u,c){return this.options.includes(u.value)?u.typed=!0:v(this,"type",u,c),u}}}function ps(i){return{kind:"schema",type:"file",reference:ps,expects:"File",async:!1,message:i,_run(n,t){return n.value instanceof File?n.typed=!0:v(this,"type",n,t),n}}}function ut(i){return{kind:"schema",type:"function",reference:ut,expects:"Function",async:!1,message:i,_run(n,t){return typeof n.value=="function"?n.typed=!0:v(this,"type",n,t),n}}}function ys(i,n){return{kind:"schema",type:"instance",reference:ys,expects:i.name,async:!1,class:i,message:n,_run(t,u){return t.value instanceof this.class?t.typed=!0:v(this,"type",t,u),t}}}function De(i,n){if(typeof i==typeof n){if(i===n||i instanceof Date&&n instanceof Date&&+i==+n)return{value:i};if(i&&n&&i.constructor===Object&&n.constructor===Object){for(const t in n)if(t in i){const u=De(i[t],n[t]);if(u.issue)return u;i[t]=u.value}else i[t]=n[t];return{value:i}}if(Array.isArray(i)&&Array.isArray(n)&&i.length===n.length){for(let t=0;t<i.length;t++){const u=De(i[t],n[t]);if(u.issue)return u;i[t]=u.value}return{value:i}}}return{issue:!0}}function ds(i,n){return{kind:"schema",type:"intersect",reference:ds,expects:ne(i.map(t=>t.expects),"&"),async:!1,options:i,message:n,_run(t,u){if(this.options.length){const c=t.value;let y;t.typed=!0;for(const d of this.options){const m=d._run({typed:!1,value:c},u);if(m.issues&&(t.issues?t.issues.push(...m.issues):t.issues=m.issues,u.abortEarly)){t.typed=!1;break}m.typed||(t.typed=!1),t.typed&&(y?y.push(m.value):y=[m.value])}if(t.typed){t.value=y[0];for(let d=1;d<y.length;d++){const m=De(t.value,y[d]);if(m.issue){v(this,"type",t,u,{received:"unknown"});break}t.value=m.value}}}else v(this,"type",t,u);return t}}}function hs(i,n){return{kind:"schema",type:"intersect",reference:hs,expects:ne(i.map(t=>t.expects),"&"),async:!0,options:i,message:n,async _run(t,u){if(this.options.length){const c=t.value;let y;t.typed=!0;const d=await Promise.all(this.options.map(m=>m._run({typed:!1,value:c},u)));for(const m of d){if(m.issues&&(t.issues?t.issues.push(...m.issues):t.issues=m.issues,u.abortEarly)){t.typed=!1;break}m.typed||(t.typed=!1),t.typed&&(y?y.push(m.value):y=[m.value])}if(t.typed){t.value=y[0];for(let m=1;m<y.length;m++){const p=De(t.value,y[m]);if(p.issue){v(this,"type",t,u,{received:"unknown"});break}t.value=p.value}}}else v(this,"type",t,u);return t}}}function ms(i){return{kind:"schema",type:"lazy",reference:ms,expects:"unknown",async:!1,getter:i,_run(n,t){return this.getter(n.value)._run(n,t)}}}function vs(i){return{kind:"schema",type:"lazy",reference:vs,expects:"unknown",async:!0,getter:i,async _run(n,t){return(await this.getter(n.value))._run(n,t)}}}function _s(i,n){return{kind:"schema",type:"literal",reference:_s,expects:W(i),async:!1,literal:i,message:n,_run(t,u){return t.value===this.literal?t.typed=!0:v(this,"type",t,u),t}}}function gs(i,n){return{kind:"schema",type:"loose_object",reference:gs,expects:"Object",async:!1,entries:i,message:n,_run(t,u){const c=t.value;if(c&&typeof c=="object"){t.typed=!0,t.value={};for(const y in this.entries){const d=c[y],m=this.entries[y]._run({typed:!1,value:d},u);if(m.issues){const p={type:"object",origin:"value",input:c,key:y,value:d};for(const _ of m.issues)_.path?_.path.unshift(p):_.path=[p],t.issues?.push(_);if(t.issues||(t.issues=m.issues),u.abortEarly){t.typed=!1;break}}m.typed||(t.typed=!1),(m.value!==void 0||y in c)&&(t.value[y]=m.value)}if(!t.issues||!u.abortEarly)for(const y in c)ce(c,y)&&!(y in this.entries)&&(t.value[y]=c[y])}else v(this,"type",t,u);return t}}}function bs(i,n){return{kind:"schema",type:"loose_object",reference:bs,expects:"Object",async:!0,entries:i,message:n,async _run(t,u){const c=t.value;if(c&&typeof c=="object"){t.typed=!0,t.value={};const y=await Promise.all(Object.entries(this.entries).map(async([d,m])=>{const p=c[d];return[d,p,await m._run({typed:!1,value:p},u)]}));for(const[d,m,p]of y){if(p.issues){const _={type:"object",origin:"value",input:c,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],t.issues?.push(b);if(t.issues||(t.issues=p.issues),u.abortEarly){t.typed=!1;break}}p.typed||(t.typed=!1),(p.value!==void 0||d in c)&&(t.value[d]=p.value)}if(!t.issues||!u.abortEarly)for(const d in c)ce(c,d)&&!(d in this.entries)&&(t.value[d]=c[d])}else v(this,"type",t,u);return t}}}function Es(i,n){return{kind:"schema",type:"loose_tuple",reference:Es,expects:"Array",async:!1,items:i,message:n,_run(t,u){const c=t.value;if(Array.isArray(c)){t.typed=!0,t.value=[];for(let y=0;y<this.items.length;y++){const d=c[y],m=this.items[y]._run({typed:!1,value:d},u);if(m.issues){const p={type:"array",origin:"value",input:c,key:y,value:d};for(const _ of m.issues)_.path?_.path.unshift(p):_.path=[p],t.issues?.push(_);if(t.issues||(t.issues=m.issues),u.abortEarly){t.typed=!1;break}}m.typed||(t.typed=!1),t.value.push(m.value)}if(!t.issues||!u.abortEarly)for(let y=this.items.length;y<c.length;y++)t.value.push(c[y])}else v(this,"type",t,u);return t}}}function Ss(i,n){return{kind:"schema",type:"loose_tuple",reference:Ss,expects:"Array",async:!0,items:i,message:n,async _run(t,u){const c=t.value;if(Array.isArray(c)){t.typed=!0,t.value=[];const y=await Promise.all(this.items.map(async(d,m)=>{const p=c[m];return[m,p,await d._run({typed:!1,value:p},u)]}));for(const[d,m,p]of y){if(p.issues){const _={type:"array",origin:"value",input:c,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],t.issues?.push(b);if(t.issues||(t.issues=p.issues),u.abortEarly){t.typed=!1;break}}p.typed||(t.typed=!1),t.value.push(p.value)}if(!t.issues||!u.abortEarly)for(let d=this.items.length;d<c.length;d++)t.value.push(c[d])}else v(this,"type",t,u);return t}}}function Is(i,n,t){return{kind:"schema",type:"map",reference:Is,expects:"Map",async:!1,key:i,value:n,message:t,_run(u,c){const y=u.value;if(y instanceof Map){u.typed=!0,u.value=new Map;for(const[d,m]of y){const p=this.key._run({typed:!1,value:d},c);if(p.issues){const b={type:"map",origin:"key",input:y,key:d,value:m};for(const F of p.issues)F.path?F.path.unshift(b):F.path=[b],u.issues?.push(F);if(u.issues||(u.issues=p.issues),c.abortEarly){u.typed=!1;break}}const _=this.value._run({typed:!1,value:m},c);if(_.issues){const b={type:"map",origin:"value",input:y,key:d,value:m};for(const F of _.issues)F.path?F.path.unshift(b):F.path=[b],u.issues?.push(F);if(u.issues||(u.issues=_.issues),c.abortEarly){u.typed=!1;break}}(!p.typed||!_.typed)&&(u.typed=!1),u.value.set(p.value,_.value)}}else v(this,"type",u,c);return u}}}function ws(i,n,t){return{kind:"schema",type:"map",reference:ws,expects:"Map",async:!0,key:i,value:n,message:t,async _run(u,c){const y=u.value;if(y instanceof Map){u.typed=!0,u.value=new Map;const d=await Promise.all([...y].map(([m,p])=>Promise.all([m,p,this.key._run({typed:!1,value:m},c),this.value._run({typed:!1,value:p},c)])));for(const[m,p,_,b]of d){if(_.issues){const F={type:"map",origin:"key",input:y,key:m,value:p};for(const q of _.issues)q.path?q.path.unshift(F):q.path=[F],u.issues?.push(q);if(u.issues||(u.issues=_.issues),c.abortEarly){u.typed=!1;break}}if(b.issues){const F={type:"map",origin:"value",input:y,key:m,value:p};for(const q of b.issues)q.path?q.path.unshift(F):q.path=[F],u.issues?.push(q);if(u.issues||(u.issues=b.issues),c.abortEarly){u.typed=!1;break}}(!_.typed||!b.typed)&&(u.typed=!1),u.value.set(_.value,b.value)}}else v(this,"type",u,c);return u}}}function ks(i){return{kind:"schema",type:"nan",reference:ks,expects:"NaN",async:!1,message:i,_run(n,t){return Number.isNaN(n.value)?n.typed=!0:v(this,"type",n,t),n}}}function As(i){return{kind:"schema",type:"never",reference:As,expects:"never",async:!1,message:i,_run(n,t){return v(this,"type",n,t),n}}}function xs(i,n){return{kind:"schema",type:"non_nullable",reference:xs,expects:"!null",async:!1,wrapped:i,message:n,_run(t,u){return t.value===null?(v(this,"type",t,u),t):this.wrapped._run(t,u)}}}function Os(i,n){return{kind:"schema",type:"non_nullable",reference:Os,expects:"!null",async:!0,wrapped:i,message:n,async _run(t,u){return t.value===null?(v(this,"type",t,u),t):this.wrapped._run(t,u)}}}function Rs(i,n){return{kind:"schema",type:"non_nullish",reference:Rs,expects:"(!null & !undefined)",async:!1,wrapped:i,message:n,_run(t,u){return t.value===null||t.value===void 0?(v(this,"type",t,u),t):this.wrapped._run(t,u)}}}function Ts(i,n){return{kind:"schema",type:"non_nullish",reference:Ts,expects:"(!null & !undefined)",async:!0,wrapped:i,message:n,async _run(t,u){return t.value===null||t.value===void 0?(v(this,"type",t,u),t):this.wrapped._run(t,u)}}}function ot(i,n){return{kind:"schema",type:"non_optional",reference:ot,expects:"!undefined",async:!1,wrapped:i,message:n,_run(t,u){return t.value===void 0?(v(this,"type",t,u),t):this.wrapped._run(t,u)}}}function at(i,n){return{kind:"schema",type:"non_optional",reference:at,expects:"!undefined",async:!0,wrapped:i,message:n,async _run(t,u){return t.value===void 0?(v(this,"type",t,u),t):this.wrapped._run(t,u)}}}function lt(i){return{kind:"schema",type:"null",reference:lt,expects:"null",async:!1,message:i,_run(n,t){return n.value===null?n.typed=!0:v(this,"type",n,t),n}}}function Ps(i,...n){const t={kind:"schema",type:"nullable",reference:Ps,expects:`(${i.expects} | null)`,async:!1,wrapped:i,_run(u,c){return u.value===null&&("default"in this&&(u.value=re(this,u,c)),u.value===null)?(u.typed=!0,u):this.wrapped._run(u,c)}};return 0 in n&&(t.default=n[0]),t}function Ds(i,...n){const t={kind:"schema",type:"nullable",reference:Ds,expects:`(${i.expects} | null)`,async:!0,wrapped:i,async _run(u,c){return u.value===null&&("default"in this&&(u.value=await re(this,u,c)),u.value===null)?(u.typed=!0,u):this.wrapped._run(u,c)}};return 0 in n&&(t.default=n[0]),t}function Cs(i,...n){const t={kind:"schema",type:"nullish",reference:Cs,expects:`(${i.expects} | null | undefined)`,async:!1,wrapped:i,_run(u,c){return(u.value===null||u.value===void 0)&&("default"in this&&(u.value=re(this,u,c)),u.value===null||u.value===void 0)?(u.typed=!0,u):this.wrapped._run(u,c)}};return 0 in n&&(t.default=n[0]),t}function Fs(i,...n){const t={kind:"schema",type:"nullish",reference:Fs,expects:`(${i.expects} | null | undefined)`,async:!0,wrapped:i,async _run(u,c){return(u.value===null||u.value===void 0)&&("default"in this&&(u.value=await re(this,u,c)),u.value===null||u.value===void 0)?(u.typed=!0,u):this.wrapped._run(u,c)}};return 0 in n&&(t.default=n[0]),t}function qs(i){return{kind:"schema",type:"number",reference:qs,expects:"number",async:!1,message:i,_run(n,t){return typeof n.value=="number"&&!isNaN(n.value)?n.typed=!0:v(this,"type",n,t),n}}}function Ms(i,n){return{kind:"schema",type:"object",reference:Ms,expects:"Object",async:!1,entries:i,message:n,_run(t,u){const c=t.value;if(c&&typeof c=="object"){t.typed=!0,t.value={};for(const y in this.entries){const d=c[y],m=this.entries[y]._run({typed:!1,value:d},u);if(m.issues){const p={type:"object",origin:"value",input:c,key:y,value:d};for(const _ of m.issues)_.path?_.path.unshift(p):_.path=[p],t.issues?.push(_);if(t.issues||(t.issues=m.issues),u.abortEarly){t.typed=!1;break}}m.typed||(t.typed=!1),(m.value!==void 0||y in c)&&(t.value[y]=m.value)}}else v(this,"type",t,u);return t}}}function js(i,n){return{kind:"schema",type:"object",reference:js,expects:"Object",async:!0,entries:i,message:n,async _run(t,u){const c=t.value;if(c&&typeof c=="object"){t.typed=!0,t.value={};const y=await Promise.all(Object.entries(this.entries).map(async([d,m])=>{const p=c[d];return[d,p,await m._run({typed:!1,value:p},u)]}));for(const[d,m,p]of y){if(p.issues){const _={type:"object",origin:"value",input:c,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],t.issues?.push(b);if(t.issues||(t.issues=p.issues),u.abortEarly){t.typed=!1;break}}p.typed||(t.typed=!1),(p.value!==void 0||d in c)&&(t.value[d]=p.value)}}else v(this,"type",t,u);return t}}}function Ns(i,n,t){return{kind:"schema",type:"object_with_rest",reference:Ns,expects:"Object",async:!1,entries:i,rest:n,message:t,_run(u,c){const y=u.value;if(y&&typeof y=="object"){u.typed=!0,u.value={};for(const d in this.entries){const m=y[d],p=this.entries[d]._run({typed:!1,value:m},c);if(p.issues){const _={type:"object",origin:"value",input:y,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],u.issues?.push(b);if(u.issues||(u.issues=p.issues),c.abortEarly){u.typed=!1;break}}p.typed||(u.typed=!1),(p.value!==void 0||d in y)&&(u.value[d]=p.value)}if(!u.issues||!c.abortEarly){for(const d in y)if(ce(y,d)&&!(d in this.entries)){const m=y[d],p=this.rest._run({typed:!1,value:m},c);if(p.issues){const _={type:"object",origin:"value",input:y,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],u.issues?.push(b);if(u.issues||(u.issues=p.issues),c.abortEarly){u.typed=!1;break}}p.typed||(u.typed=!1),u.value[d]=p.value}}}else v(this,"type",u,c);return u}}}function Ls(i,n,t){return{kind:"schema",type:"object_with_rest",reference:Ls,expects:"Object",async:!0,entries:i,rest:n,message:t,async _run(u,c){const y=u.value;if(y&&typeof y=="object"){u.typed=!0,u.value={};const[d,m]=await Promise.all([Promise.all(Object.entries(this.entries).map(async([p,_])=>{const b=y[p];return[p,b,await _._run({typed:!1,value:b},c)]})),Promise.all(Object.entries(y).filter(([p])=>ce(y,p)&&!(p in this.entries)).map(async([p,_])=>[p,_,await this.rest._run({typed:!1,value:_},c)]))]);for(const[p,_,b]of d){if(b.issues){const F={type:"object",origin:"value",input:y,key:p,value:_};for(const q of b.issues)q.path?q.path.unshift(F):q.path=[F],u.issues?.push(q);if(u.issues||(u.issues=b.issues),c.abortEarly){u.typed=!1;break}}b.typed||(u.typed=!1),(b.value!==void 0||p in y)&&(u.value[p]=b.value)}if(!u.issues||!c.abortEarly)for(const[p,_,b]of m){if(b.issues){const F={type:"object",origin:"value",input:y,key:p,value:_};for(const q of b.issues)q.path?q.path.unshift(F):q.path=[F],u.issues?.push(q);if(u.issues||(u.issues=b.issues),c.abortEarly){u.typed=!1;break}}b.typed||(u.typed=!1),u.value[p]=b.value}}else v(this,"type",u,c);return u}}}function ct(i,...n){const t={kind:"schema",type:"optional",reference:ct,expects:`(${i.expects} | undefined)`,async:!1,wrapped:i,_run(u,c){return u.value===void 0&&("default"in this&&(u.value=re(this,u,c)),u.value===void 0)?(u.typed=!0,u):this.wrapped._run(u,c)}};return 0 in n&&(t.default=n[0]),t}function ft(i,...n){const t={kind:"schema",type:"optional",reference:ft,expects:`(${i.expects} | undefined)`,async:!0,wrapped:i,async _run(u,c){return u.value===void 0&&("default"in this&&(u.value=await re(this,u,c)),u.value===void 0)?(u.typed=!0,u):this.wrapped._run(u,c)}};return 0 in n&&(t.default=n[0]),t}function pt(i,n){return{kind:"schema",type:"picklist",reference:pt,expects:ne(i.map(W),"|"),async:!1,options:i,message:n,_run(t,u){return this.options.includes(t.value)?t.typed=!0:v(this,"type",t,u),t}}}function $s(i){return{kind:"schema",type:"promise",reference:$s,expects:"Promise",async:!1,message:i,_run(n,t){return n.value instanceof Promise?n.typed=!0:v(this,"type",n,t),n}}}function Us(i,n,t){return{kind:"schema",type:"record",reference:Us,expects:"Object",async:!1,key:i,value:n,message:t,_run(u,c){const y=u.value;if(y&&typeof y=="object"){u.typed=!0,u.value={};for(const d in y)if(ce(y,d)){const m=y[d],p=this.key._run({typed:!1,value:d},c);if(p.issues){const b={type:"object",origin:"key",input:y,key:d,value:m};for(const F of p.issues)F.path=[b],u.issues?.push(F);if(u.issues||(u.issues=p.issues),c.abortEarly){u.typed=!1;break}}const _=this.value._run({typed:!1,value:m},c);if(_.issues){const b={type:"object",origin:"value",input:y,key:d,value:m};for(const F of _.issues)F.path?F.path.unshift(b):F.path=[b],u.issues?.push(F);if(u.issues||(u.issues=_.issues),c.abortEarly){u.typed=!1;break}}(!p.typed||!_.typed)&&(u.typed=!1),p.typed&&(u.value[p.value]=_.value)}}else v(this,"type",u,c);return u}}}function Bs(i,n,t){return{kind:"schema",type:"record",reference:Bs,expects:"Object",async:!0,key:i,value:n,message:t,async _run(u,c){const y=u.value;if(y&&typeof y=="object"){u.typed=!0,u.value={};const d=await Promise.all(Object.entries(y).filter(([m])=>ce(y,m)).map(([m,p])=>Promise.all([m,p,this.key._run({typed:!1,value:m},c),this.value._run({typed:!1,value:p},c)])));for(const[m,p,_,b]of d){if(_.issues){const F={type:"object",origin:"key",input:y,key:m,value:p};for(const q of _.issues)q.path=[F],u.issues?.push(q);if(u.issues||(u.issues=_.issues),c.abortEarly){u.typed=!1;break}}if(b.issues){const F={type:"object",origin:"value",input:y,key:m,value:p};for(const q of b.issues)q.path?q.path.unshift(F):q.path=[F],u.issues?.push(q);if(u.issues||(u.issues=b.issues),c.abortEarly){u.typed=!1;break}}(!_.typed||!b.typed)&&(u.typed=!1),_.typed&&(u.value[_.value]=b.value)}}else v(this,"type",u,c);return u}}}function Gs(i,n){return{kind:"schema",type:"set",reference:Gs,expects:"Set",async:!1,value:i,message:n,_run(t,u){const c=t.value;if(c instanceof Set){t.typed=!0,t.value=new Set;for(const y of c){const d=this.value._run({typed:!1,value:y},u);if(d.issues){const m={type:"set",origin:"value",input:c,key:null,value:y};for(const p of d.issues)p.path?p.path.unshift(m):p.path=[m],t.issues?.push(p);if(t.issues||(t.issues=d.issues),u.abortEarly){t.typed=!1;break}}d.typed||(t.typed=!1),t.value.add(d.value)}}else v(this,"type",t,u);return t}}}function zs(i,n){return{kind:"schema",type:"set",reference:zs,expects:"Set",async:!0,value:i,message:n,async _run(t,u){const c=t.value;if(c instanceof Set){t.typed=!0,t.value=new Set;const y=await Promise.all([...c].map(async d=>[d,await this.value._run({typed:!1,value:d},u)]));for(const[d,m]of y){if(m.issues){const p={type:"set",origin:"value",input:c,key:null,value:d};for(const _ of m.issues)_.path?_.path.unshift(p):_.path=[p],t.issues?.push(_);if(t.issues||(t.issues=m.issues),u.abortEarly){t.typed=!1;break}}m.typed||(t.typed=!1),t.value.add(m.value)}}else v(this,"type",t,u);return t}}}function Vs(i,n){return{kind:"schema",type:"strict_object",reference:Vs,expects:"Object",async:!1,entries:i,message:n,_run(t,u){const c=t.value;if(c&&typeof c=="object"){t.typed=!0,t.value={};for(const y in this.entries){const d=c[y],m=this.entries[y]._run({typed:!1,value:d},u);if(m.issues){const p={type:"object",origin:"value",input:c,key:y,value:d};for(const _ of m.issues)_.path?_.path.unshift(p):_.path=[p],t.issues?.push(_);if(t.issues||(t.issues=m.issues),u.abortEarly){t.typed=!1;break}}m.typed||(t.typed=!1),(m.value!==void 0||y in c)&&(t.value[y]=m.value)}if(!t.issues||!u.abortEarly){for(const y in c)if(!(y in this.entries)){const d=c[y];v(this,"type",t,u,{input:d,expected:"never",path:[{type:"object",origin:"value",input:c,key:y,value:d}]});break}}}else v(this,"type",t,u);return t}}}function Hs(i,n){return{kind:"schema",type:"strict_object",reference:Hs,expects:"Object",async:!0,entries:i,message:n,async _run(t,u){const c=t.value;if(c&&typeof c=="object"){t.typed=!0,t.value={};const y=await Promise.all(Object.entries(this.entries).map(async([d,m])=>{const p=c[d];return[d,p,await m._run({typed:!1,value:p},u)]}));for(const[d,m,p]of y){if(p.issues){const _={type:"object",origin:"value",input:c,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],t.issues?.push(b);if(t.issues||(t.issues=p.issues),u.abortEarly){t.typed=!1;break}}p.typed||(t.typed=!1),(p.value!==void 0||d in c)&&(t.value[d]=p.value)}if(!t.issues||!u.abortEarly){for(const d in c)if(!(d in this.entries)){const m=c[d];v(this,"type",t,u,{input:m,expected:"never",path:[{type:"object",origin:"value",input:c,key:d,value:m}]});break}}}else v(this,"type",t,u);return t}}}function Xs(i,n){return{kind:"schema",type:"strict_tuple",reference:Xs,expects:"Array",async:!1,items:i,message:n,_run(t,u){const c=t.value;if(Array.isArray(c)){t.typed=!0,t.value=[];for(let y=0;y<this.items.length;y++){const d=c[y],m=this.items[y]._run({typed:!1,value:d},u);if(m.issues){const p={type:"array",origin:"value",input:c,key:y,value:d};for(const _ of m.issues)_.path?_.path.unshift(p):_.path=[p],t.issues?.push(_);if(t.issues||(t.issues=m.issues),u.abortEarly){t.typed=!1;break}}m.typed||(t.typed=!1),t.value.push(m.value)}if(!(t.issues&&u.abortEarly)&&this.items.length<c.length){const y=c[i.length];v(this,"type",t,u,{input:y,expected:"never",path:[{type:"array",origin:"value",input:c,key:this.items.length,value:y}]})}}else v(this,"type",t,u);return t}}}function Ks(i,n){return{kind:"schema",type:"strict_tuple",reference:Ks,expects:"Array",async:!0,items:i,message:n,async _run(t,u){const c=t.value;if(Array.isArray(c)){t.typed=!0,t.value=[];const y=await Promise.all(this.items.map(async(d,m)=>{const p=c[m];return[m,p,await d._run({typed:!1,value:p},u)]}));for(const[d,m,p]of y){if(p.issues){const _={type:"array",origin:"value",input:c,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],t.issues?.push(b);if(t.issues||(t.issues=p.issues),u.abortEarly){t.typed=!1;break}}p.typed||(t.typed=!1),t.value.push(p.value)}if(!(t.issues&&u.abortEarly)&&this.items.length<c.length){const d=c[i.length];v(this,"type",t,u,{input:d,expected:"never",path:[{type:"array",origin:"value",input:c,key:this.items.length,value:d}]})}}else v(this,"type",t,u);return t}}}function Ws(i){return{kind:"schema",type:"string",reference:Ws,expects:"string",async:!1,message:i,_run(n,t){return typeof n.value=="string"?n.typed=!0:v(this,"type",n,t),n}}}function Js(i){return{kind:"schema",type:"symbol",reference:Js,expects:"symbol",async:!1,message:i,_run(n,t){return typeof n.value=="symbol"?n.typed=!0:v(this,"type",n,t),n}}}function Zs(i,n){return{kind:"schema",type:"tuple",reference:Zs,expects:"Array",async:!1,items:i,message:n,_run(t,u){const c=t.value;if(Array.isArray(c)){t.typed=!0,t.value=[];for(let y=0;y<this.items.length;y++){const d=c[y],m=this.items[y]._run({typed:!1,value:d},u);if(m.issues){const p={type:"array",origin:"value",input:c,key:y,value:d};for(const _ of m.issues)_.path?_.path.unshift(p):_.path=[p],t.issues?.push(_);if(t.issues||(t.issues=m.issues),u.abortEarly){t.typed=!1;break}}m.typed||(t.typed=!1),t.value.push(m.value)}}else v(this,"type",t,u);return t}}}function Ys(i,n){return{kind:"schema",type:"tuple",reference:Ys,expects:"Array",async:!0,items:i,message:n,async _run(t,u){const c=t.value;if(Array.isArray(c)){t.typed=!0,t.value=[];const y=await Promise.all(this.items.map(async(d,m)=>{const p=c[m];return[m,p,await d._run({typed:!1,value:p},u)]}));for(const[d,m,p]of y){if(p.issues){const _={type:"array",origin:"value",input:c,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],t.issues?.push(b);if(t.issues||(t.issues=p.issues),u.abortEarly){t.typed=!1;break}}p.typed||(t.typed=!1),t.value.push(p.value)}}else v(this,"type",t,u);return t}}}function Qs(i,n,t){return{kind:"schema",type:"tuple_with_rest",reference:Qs,expects:"Array",async:!1,items:i,rest:n,message:t,_run(u,c){const y=u.value;if(Array.isArray(y)){u.typed=!0,u.value=[];for(let d=0;d<this.items.length;d++){const m=y[d],p=this.items[d]._run({typed:!1,value:m},c);if(p.issues){const _={type:"array",origin:"value",input:y,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],u.issues?.push(b);if(u.issues||(u.issues=p.issues),c.abortEarly){u.typed=!1;break}}p.typed||(u.typed=!1),u.value.push(p.value)}if(!u.issues||!c.abortEarly)for(let d=this.items.length;d<y.length;d++){const m=y[d],p=this.rest._run({typed:!1,value:m},c);if(p.issues){const _={type:"array",origin:"value",input:y,key:d,value:m};for(const b of p.issues)b.path?b.path.unshift(_):b.path=[_],u.issues?.push(b);if(u.issues||(u.issues=p.issues),c.abortEarly){u.typed=!1;break}}p.typed||(u.typed=!1),u.value.push(p.value)}}else v(this,"type",u,c);return u}}}function eu(i,n,t){return{kind:"schema",type:"tuple_with_rest",reference:eu,expects:"Array",async:!0,items:i,rest:n,message:t,async _run(u,c){const y=u.value;if(Array.isArray(y)){u.typed=!0,u.value=[];const[d,m]=await Promise.all([Promise.all(this.items.map(async(p,_)=>{const b=y[_];return[_,b,await p._run({typed:!1,value:b},c)]})),Promise.all(y.slice(this.items.length).map(async(p,_)=>[_+this.items.length,p,await this.rest._run({typed:!1,value:p},c)]))]);for(const[p,_,b]of d){if(b.issues){const F={type:"array",origin:"value",input:y,key:p,value:_};for(const q of b.issues)q.path?q.path.unshift(F):q.path=[F],u.issues?.push(q);if(u.issues||(u.issues=b.issues),c.abortEarly){u.typed=!1;break}}b.typed||(u.typed=!1),u.value.push(b.value)}if(!u.issues||!c.abortEarly)for(const[p,_,b]of m){if(b.issues){const F={type:"array",origin:"value",input:y,key:p,value:_};for(const q of b.issues)q.path?q.path.unshift(F):q.path=[F],u.issues?.push(q);if(u.issues||(u.issues=b.issues),c.abortEarly){u.typed=!1;break}}b.typed||(u.typed=!1),u.value.push(b.value)}}else v(this,"type",u,c);return u}}}function yt(i){return{kind:"schema",type:"undefined",reference:yt,expects:"undefined",async:!1,message:i,_run(n,t){return n.value===void 0?n.typed=!0:v(this,"type",n,t),n}}}function tu(i,...n){const t={kind:"schema",type:"undefinedable",reference:tu,expects:`(${i.expects} | undefined)`,async:!1,wrapped:i,_run(u,c){return u.value===void 0&&("default"in this&&(u.value=re(this,u,c)),u.value===void 0)?(u.typed=!0,u):this.wrapped._run(u,c)}};return 0 in n&&(t.default=n[0]),t}function ru(i,...n){const t={kind:"schema",type:"undefinedable",reference:ru,expects:`(${i.expects} | undefined)`,async:!0,wrapped:i,async _run(u,c){return u.value===void 0&&("default"in this&&(u.value=await re(this,u,c)),u.value===void 0)?(u.typed=!0,u):this.wrapped._run(u,c)}};return 0 in n&&(t.default=n[0]),t}function Ce(i){let n;if(i)for(const t of i)n?n.push(...t.issues):n=t.issues;return n}function nu(i,n){return{kind:"schema",type:"union",reference:nu,expects:ne(i.map(t=>t.expects),"|"),async:!1,options:i,message:n,_run(t,u){let c,y,d;for(const m of this.options){const p=m._run({typed:!1,value:t.value},u);if(p.typed)if(p.issues)y?y.push(p):y=[p];else{c=p;break}else d?d.push(p):d=[p]}if(c)return c;if(y){if(y.length===1)return y[0];v(this,"type",t,u,{issues:Ce(y)}),t.typed=!0}else{if(d?.length===1)return d[0];v(this,"type",t,u,{issues:Ce(d)})}return t}}}function iu(i,n){return{kind:"schema",type:"union",reference:iu,expects:ne(i.map(t=>t.expects),"|"),async:!0,options:i,message:n,async _run(t,u){let c,y,d;for(const m of this.options){const p=await m._run({typed:!1,value:t.value},u);if(p.typed)if(p.issues)y?y.push(p):y=[p];else{c=p;break}else d?d.push(p):d=[p]}if(c)return c;if(y){if(y.length===1)return y[0];v(this,"type",t,u,{issues:Ce(y)}),t.typed=!0}else{if(d?.length===1)return d[0];v(this,"type",t,u,{issues:Ce(d)})}return t}}}function su(){return{kind:"schema",type:"unknown",reference:su,expects:"unknown",async:!1,_run(i){return i.typed=!0,i}}}function uu(i,n,t){return{kind:"schema",type:"variant",reference:uu,expects:"Object",async:!1,key:i,options:n,message:t,_run(u,c){const y=u.value;if(y&&typeof y=="object"){let d,m=0,p=this.key,_=[];const b=(F,q)=>{for(const ee of F.options){if(ee.type==="variant")b(ee,new Set(q).add(ee.key));else{let Ee=!0,se=0;for(const z of q){if(ee.entries[z]._run({typed:!1,value:y[z]},c).issues){Ee=!1,p!==z&&(m<se||m===se&&z in y&&!(p in y))&&(m=se,p=z,_=[]),p===z&&_.push(ee.entries[z].expects);break}se++}if(Ee){const z=ee._run({typed:!1,value:y},c);(!d||!d.typed&&z.typed)&&(d=z)}}if(d&&!d.issues)break}};if(b(this,new Set([this.key])),d)return d;v(this,"type",u,c,{input:y[p],expected:ne(_,"|"),path:[{type:"object",origin:"value",input:y,key:p,value:y[p]}]})}else v(this,"type",u,c);return u}}}function ou(i,n,t){return{kind:"schema",type:"variant",reference:ou,expects:"Object",async:!0,key:i,options:n,message:t,async _run(u,c){const y=u.value;if(y&&typeof y=="object"){let d,m=0,p=this.key,_=[];const b=async(F,q)=>{for(const ee of F.options){if(ee.type==="variant")await b(ee,new Set(q).add(ee.key));else{let Ee=!0,se=0;for(const z of q){if((await ee.entries[z]._run({typed:!1,value:y[z]},c)).issues){Ee=!1,p!==z&&(m<se||m===se&&z in y&&!(p in y))&&(m=se,p=z,_=[]),p===z&&_.push(ee.entries[z].expects);break}se++}if(Ee){const z=await ee._run({typed:!1,value:y},c);(!d||!d.typed&&z.typed)&&(d=z)}}if(d&&!d.issues)break}};if(await b(this,new Set([this.key])),d)return d;v(this,"type",u,c,{input:y[p],expected:ne(_,"|"),path:[{type:"object",origin:"value",input:y,key:p,value:y[p]}]})}else v(this,"type",u,c);return u}}}function dt(i){return{kind:"schema",type:"void",reference:dt,expects:"void",async:!1,message:i,_run(n,t){return n.value===void 0?n.typed=!0:v(this,"type",n,t),n}}}function Sl(i,n){return pt(Object.keys(i.entries),n)}function Il(i,n){const t={...i.entries};for(const u of n)delete t[u];return{...i,entries:t}}function au(i,n,t){const u=i._run({typed:!1,value:n},ve(t));if(u.issues)throw new Pe(u.issues);return u.value}async function lu(i,n,t){const u=await i._run({typed:!1,value:n},ve(t));if(u.issues)throw new Pe(u.issues);return u.value}function wl(i,n){const t=u=>au(i,u,n);return t.schema=i,t.config=n,t}function kl(i,n){const t=u=>lu(i,u,n);return t.schema=i,t.config=n,t}function Al(i,n){const t={};for(const u in i.entries)t[u]=!n||n.includes(u)?ct(i.entries[u]):i.entries[u];return{...i,entries:t}}function xl(i,n){const t={};for(const u in i.entries)t[u]=!n||n.includes(u)?ft(i.entries[u]):i.entries[u];return{...i,entries:t}}function Ol(i,n){const t={};for(const u of n)t[u]=i.entries[u];return{...i,entries:t}}function Rl(...i){return{...i[0],pipe:i,_run(n,t){for(const u of i)if(u.kind!=="metadata"){if(n.issues&&(u.kind==="schema"||u.kind==="transformation")){n.typed=!1;break}(!n.issues||!t.abortEarly&&!t.abortPipeEarly)&&(n=u._run(n,t))}return n}}}function Tl(...i){return{...i[0],pipe:i,async:!0,async _run(n,t){for(const u of i)if(u.kind!=="metadata"){if(n.issues&&(u.kind==="schema"||u.kind==="transformation")){n.typed=!1;break}(!n.issues||!t.abortEarly&&!t.abortPipeEarly)&&(n=await u._run(n,t))}return n}}}function Pl(i,n,t){const u=Array.isArray(n)?n:void 0,c=Array.isArray(n)?t:n,y={};for(const d in i.entries)y[d]=!u||u.includes(d)?ot(i.entries[d],c):i.entries[d];return{...i,entries:y}}function Dl(i,n,t){const u=Array.isArray(n)?n:void 0,c=Array.isArray(n)?t:n,y={};for(const d in i.entries)y[d]=!u||u.includes(d)?at(i.entries[d],c):i.entries[d];return{...i,entries:y}}function cu(i,n,t){const u=i._run({typed:!1,value:n},ve(t));return{typed:u.typed,success:!u.issues,output:u.value,issues:u.issues}}async function fu(i,n,t){const u=await i._run({typed:!1,value:n},ve(t));return{typed:u.typed,success:!u.issues,output:u.value,issues:u.issues}}function Cl(i,n){const t=u=>cu(i,u,n);return t.schema=i,t.config=n,t}function Fl(i,n){const t=u=>fu(i,u,n);return t.schema=i,t.config=n,t}function ql(i){return i.wrapped}return bt}var Et,Ru;function Te(){if(Ru)return Et;Ru=1;var e=Array.isArray;return Et=e,Et}var St,Tu;function Cp(){if(Tu)return St;Tu=1;var e=typeof Fe=="object"&&Fe&&Fe.Object===Object&&Fe;return St=e,St}var It,Pu;function pn(){if(Pu)return It;Pu=1;var e=Cp(),r=typeof self=="object"&&self&&self.Object===Object&&self,s=e||r||Function("return this")();return It=s,It}var wt,Du;function We(){if(Du)return wt;Du=1;var e=pn(),r=e.Symbol;return wt=r,wt}var kt,Cu;function Fp(){if(Cu)return kt;Cu=1;var e=We(),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,a=e?e.toStringTag:void 0;function l(f){var h=s.call(f,a),g=f[a];try{f[a]=void 0;var S=!0}catch{}var E=o.call(f);return S&&(h?f[a]=g:delete f[a]),E}return kt=l,kt}var At,Fu;function qp(){if(Fu)return At;Fu=1;var e=Object.prototype,r=e.toString;function s(o){return r.call(o)}return At=s,At}var xt,qu;function yn(){if(qu)return xt;qu=1;var e=We(),r=Fp(),s=qp(),o="[object Null]",a="[object Undefined]",l=e?e.toStringTag:void 0;function f(h){return h==null?h===void 0?a:o:l&&l in Object(h)?r(h):s(h)}return xt=f,xt}var Ot,Mu;function dn(){if(Mu)return Ot;Mu=1;function e(r){return r!=null&&typeof r=="object"}return Ot=e,Ot}var Rt,ju;function hn(){if(ju)return Rt;ju=1;var e=yn(),r=dn(),s="[object Symbol]";function o(a){return typeof a=="symbol"||r(a)&&e(a)==s}return Rt=o,Rt}var Tt,Nu;function Mp(){if(Nu)return Tt;Nu=1;var e=Te(),r=hn(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function a(l,f){if(e(l))return!1;var h=typeof l;return h=="number"||h=="symbol"||h=="boolean"||l==null||r(l)?!0:o.test(l)||!s.test(l)||f!=null&&l in Object(f)}return Tt=a,Tt}var Pt,Lu;function mn(){if(Lu)return Pt;Lu=1;function e(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}return Pt=e,Pt}var Dt,$u;function jp(){if($u)return Dt;$u=1;var e=yn(),r=mn(),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function f(h){if(!r(h))return!1;var g=e(h);return g==o||g==a||g==s||g==l}return Dt=f,Dt}var Ct,Uu;function Np(){if(Uu)return Ct;Uu=1;var e=pn(),r=e["__core-js_shared__"];return Ct=r,Ct}var Ft,Bu;function Lp(){if(Bu)return Ft;Bu=1;var e=Np(),r=(function(){var o=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})();function s(o){return!!r&&r in o}return Ft=s,Ft}var qt,Gu;function $p(){if(Gu)return qt;Gu=1;var e=Function.prototype,r=e.toString;function s(o){if(o!=null){try{return r.call(o)}catch{}try{return o+""}catch{}}return""}return qt=s,qt}var Mt,zu;function Up(){if(zu)return Mt;zu=1;var e=jp(),r=Lp(),s=mn(),o=$p(),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,f=Function.prototype,h=Object.prototype,g=f.toString,S=h.hasOwnProperty,E=RegExp("^"+g.call(S).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x(w){if(!s(w)||r(w))return!1;var O=e(w)?E:l;return O.test(o(w))}return Mt=x,Mt}var jt,Vu;function Bp(){if(Vu)return jt;Vu=1;function e(r,s){return r?.[s]}return jt=e,jt}var Nt,Hu;function vn(){if(Hu)return Nt;Hu=1;var e=Up(),r=Bp();function s(o,a){var l=r(o,a);return e(l)?l:void 0}return Nt=s,Nt}var Lt,Xu;function Je(){if(Xu)return Lt;Xu=1;var e=vn(),r=e(Object,"create");return Lt=r,Lt}var $t,Ku;function Gp(){if(Ku)return $t;Ku=1;var e=Je();function r(){this.__data__=e?e(null):{},this.size=0}return $t=r,$t}var Ut,Wu;function zp(){if(Wu)return Ut;Wu=1;function e(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s}return Ut=e,Ut}var Bt,Ju;function Vp(){if(Ju)return Bt;Ju=1;var e=Je(),r="__lodash_hash_undefined__",s=Object.prototype,o=s.hasOwnProperty;function a(l){var f=this.__data__;if(e){var h=f[l];return h===r?void 0:h}return o.call(f,l)?f[l]:void 0}return Bt=a,Bt}var Gt,Zu;function Hp(){if(Zu)return Gt;Zu=1;var e=Je(),r=Object.prototype,s=r.hasOwnProperty;function o(a){var l=this.__data__;return e?l[a]!==void 0:s.call(l,a)}return Gt=o,Gt}var zt,Yu;function Xp(){if(Yu)return zt;Yu=1;var e=Je(),r="__lodash_hash_undefined__";function s(o,a){var l=this.__data__;return this.size+=this.has(o)?0:1,l[o]=e&&a===void 0?r:a,this}return zt=s,zt}var Vt,Qu;function Kp(){if(Qu)return Vt;Qu=1;var e=Gp(),r=zp(),s=Vp(),o=Hp(),a=Xp();function l(f){var h=-1,g=f==null?0:f.length;for(this.clear();++h<g;){var S=f[h];this.set(S[0],S[1])}}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,Vt=l,Vt}var Ht,eo;function Wp(){if(eo)return Ht;eo=1;function e(){this.__data__=[],this.size=0}return Ht=e,Ht}var Xt,to;function za(){if(to)return Xt;to=1;function e(r,s){return r===s||r!==r&&s!==s}return Xt=e,Xt}var Kt,ro;function Ze(){if(ro)return Kt;ro=1;var e=za();function r(s,o){for(var a=s.length;a--;)if(e(s[a][0],o))return a;return-1}return Kt=r,Kt}var Wt,no;function Jp(){if(no)return Wt;no=1;var e=Ze(),r=Array.prototype,s=r.splice;function o(a){var l=this.__data__,f=e(l,a);if(f<0)return!1;var h=l.length-1;return f==h?l.pop():s.call(l,f,1),--this.size,!0}return Wt=o,Wt}var Jt,io;function Zp(){if(io)return Jt;io=1;var e=Ze();function r(s){var o=this.__data__,a=e(o,s);return a<0?void 0:o[a][1]}return Jt=r,Jt}var Zt,so;function Yp(){if(so)return Zt;so=1;var e=Ze();function r(s){return e(this.__data__,s)>-1}return Zt=r,Zt}var Yt,uo;function Qp(){if(uo)return Yt;uo=1;var e=Ze();function r(s,o){var a=this.__data__,l=e(a,s);return l<0?(++this.size,a.push([s,o])):a[l][1]=o,this}return Yt=r,Yt}var Qt,oo;function ey(){if(oo)return Qt;oo=1;var e=Wp(),r=Jp(),s=Zp(),o=Yp(),a=Qp();function l(f){var h=-1,g=f==null?0:f.length;for(this.clear();++h<g;){var S=f[h];this.set(S[0],S[1])}}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,Qt=l,Qt}var er,ao;function ty(){if(ao)return er;ao=1;var e=vn(),r=pn(),s=e(r,"Map");return er=s,er}var tr,lo;function ry(){if(lo)return tr;lo=1;var e=Kp(),r=ey(),s=ty();function o(){this.size=0,this.__data__={hash:new e,map:new(s||r),string:new e}}return tr=o,tr}var rr,co;function ny(){if(co)return rr;co=1;function e(r){var s=typeof r;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?r!=="__proto__":r===null}return rr=e,rr}var nr,fo;function Ye(){if(fo)return nr;fo=1;var e=ny();function r(s,o){var a=s.__data__;return e(o)?a[typeof o=="string"?"string":"hash"]:a.map}return nr=r,nr}var ir,po;function iy(){if(po)return ir;po=1;var e=Ye();function r(s){var o=e(this,s).delete(s);return this.size-=o?1:0,o}return ir=r,ir}var sr,yo;function sy(){if(yo)return sr;yo=1;var e=Ye();function r(s){return e(this,s).get(s)}return sr=r,sr}var ur,ho;function uy(){if(ho)return ur;ho=1;var e=Ye();function r(s){return e(this,s).has(s)}return ur=r,ur}var or,mo;function oy(){if(mo)return or;mo=1;var e=Ye();function r(s,o){var a=e(this,s),l=a.size;return a.set(s,o),this.size+=a.size==l?0:1,this}return or=r,or}var ar,vo;function ay(){if(vo)return ar;vo=1;var e=ry(),r=iy(),s=sy(),o=uy(),a=oy();function l(f){var h=-1,g=f==null?0:f.length;for(this.clear();++h<g;){var S=f[h];this.set(S[0],S[1])}}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,ar=l,ar}var lr,_o;function ly(){if(_o)return lr;_o=1;var e=ay(),r="Expected a function";function s(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new TypeError(r);var l=function(){var f=arguments,h=a?a.apply(this,f):f[0],g=l.cache;if(g.has(h))return g.get(h);var S=o.apply(this,f);return l.cache=g.set(h,S)||g,S};return l.cache=new(s.Cache||e),l}return s.Cache=e,lr=s,lr}var cr,go;function cy(){if(go)return cr;go=1;var e=ly(),r=500;function s(o){var a=e(o,function(f){return l.size===r&&l.clear(),f}),l=a.cache;return a}return cr=s,cr}var fr,bo;function fy(){if(bo)return fr;bo=1;var e=cy(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=e(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(r,function(f,h,g,S){l.push(g?S.replace(s,"$1"):h||f)}),l});return fr=o,fr}var pr,Eo;function py(){if(Eo)return pr;Eo=1;function e(r,s){for(var o=-1,a=r==null?0:r.length,l=Array(a);++o<a;)l[o]=s(r[o],o,r);return l}return pr=e,pr}var yr,So;function yy(){if(So)return yr;So=1;var e=We(),r=py(),s=Te(),o=hn(),a=e?e.prototype:void 0,l=a?a.toString:void 0;function f(h){if(typeof h=="string")return h;if(s(h))return r(h,f)+"";if(o(h))return l?l.call(h):"";var g=h+"";return g=="0"&&1/h==-1/0?"-0":g}return yr=f,yr}var dr,Io;function dy(){if(Io)return dr;Io=1;var e=yy();function r(s){return s==null?"":e(s)}return dr=r,dr}var hr,wo;function Qe(){if(wo)return hr;wo=1;var e=Te(),r=Mp(),s=fy(),o=dy();function a(l,f){return e(l)?l:r(l,f)?[l]:s(o(l))}return hr=a,hr}var mr,ko;function _n(){if(ko)return mr;ko=1;var e=hn();function r(s){if(typeof s=="string"||e(s))return s;var o=s+"";return o=="0"&&1/s==-1/0?"-0":o}return mr=r,mr}var vr,Ao;function hy(){if(Ao)return vr;Ao=1;var e=Qe(),r=_n();function s(o,a){a=e(a,o);for(var l=0,f=a.length;o!=null&&l<f;)o=o[r(a[l++])];return l&&l==f?o:void 0}return vr=s,vr}var _r,xo;function Va(){if(xo)return _r;xo=1;var e=vn(),r=(function(){try{var s=e(Object,"defineProperty");return s({},"",{}),s}catch{}})();return _r=r,_r}var gr,Oo;function my(){if(Oo)return gr;Oo=1;var e=Va();function r(s,o,a){o=="__proto__"&&e?e(s,o,{configurable:!0,enumerable:!0,value:a,writable:!0}):s[o]=a}return gr=r,gr}var br,Ro;function vy(){if(Ro)return br;Ro=1;var e=my(),r=za(),s=Object.prototype,o=s.hasOwnProperty;function a(l,f,h){var g=l[f];(!(o.call(l,f)&&r(g,h))||h===void 0&&!(f in l))&&e(l,f,h)}return br=a,br}var Er,To;function Ha(){if(To)return Er;To=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function s(o,a){var l=typeof o;return a=a??e,!!a&&(l=="number"||l!="symbol"&&r.test(o))&&o>-1&&o%1==0&&o<a}return Er=s,Er}var Sr,Po;function _y(){if(Po)return Sr;Po=1;var e=vy(),r=Qe(),s=Ha(),o=mn(),a=_n();function l(f,h,g,S){if(!o(f))return f;h=r(h,f);for(var E=-1,x=h.length,w=x-1,O=f;O!=null&&++E<x;){var j=a(h[E]),N=g;if(j==="__proto__"||j==="constructor"||j==="prototype")return f;if(E!=w){var L=O[j];N=S?S(L,j,O):void 0,N===void 0&&(N=o(L)?L:s(h[E+1])?[]:{})}e(O,j,N),O=O[j]}return f}return Sr=l,Sr}var Ir,Do;function gy(){if(Do)return Ir;Do=1;var e=hy(),r=_y(),s=Qe();function o(a,l,f){for(var h=-1,g=l.length,S={};++h<g;){var E=l[h],x=e(a,E);f(x,E)&&r(S,s(E,a),x)}return S}return Ir=o,Ir}var wr,Co;function by(){if(Co)return wr;Co=1;function e(r,s){return r!=null&&s in Object(r)}return wr=e,wr}var kr,Fo;function Ey(){if(Fo)return kr;Fo=1;var e=yn(),r=dn(),s="[object Arguments]";function o(a){return r(a)&&e(a)==s}return kr=o,kr}var Ar,qo;function Xa(){if(qo)return Ar;qo=1;var e=Ey(),r=dn(),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=e((function(){return arguments})())?e:function(f){return r(f)&&o.call(f,"callee")&&!a.call(f,"callee")};return Ar=l,Ar}var xr,Mo;function Sy(){if(Mo)return xr;Mo=1;var e=9007199254740991;function r(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=e}return xr=r,xr}var Or,jo;function Iy(){if(jo)return Or;jo=1;var e=Qe(),r=Xa(),s=Te(),o=Ha(),a=Sy(),l=_n();function f(h,g,S){g=e(g,h);for(var E=-1,x=g.length,w=!1;++E<x;){var O=l(g[E]);if(!(w=h!=null&&S(h,O)))break;h=h[O]}return w||++E!=x?w:(x=h==null?0:h.length,!!x&&a(x)&&o(O,x)&&(s(h)||r(h)))}return Or=f,Or}var Rr,No;function wy(){if(No)return Rr;No=1;var e=by(),r=Iy();function s(o,a){return o!=null&&r(o,a,e)}return Rr=s,Rr}var Tr,Lo;function ky(){if(Lo)return Tr;Lo=1;var e=gy(),r=wy();function s(o,a){return e(o,a,function(l,f){return r(o,f)})}return Tr=s,Tr}var Pr,$o;function Ay(){if($o)return Pr;$o=1;function e(r,s){for(var o=-1,a=s.length,l=r.length;++o<a;)r[l+o]=s[o];return r}return Pr=e,Pr}var Dr,Uo;function xy(){if(Uo)return Dr;Uo=1;var e=We(),r=Xa(),s=Te(),o=e?e.isConcatSpreadable:void 0;function a(l){return s(l)||r(l)||!!(o&&l&&l[o])}return Dr=a,Dr}var Cr,Bo;function Oy(){if(Bo)return Cr;Bo=1;var e=Ay(),r=xy();function s(o,a,l,f,h){var g=-1,S=o.length;for(l||(l=r),h||(h=[]);++g<S;){var E=o[g];a>0&&l(E)?a>1?s(E,a-1,l,f,h):e(h,E):f||(h[h.length]=E)}return h}return Cr=s,Cr}var Fr,Go;function Ry(){if(Go)return Fr;Go=1;var e=Oy();function r(s){var o=s==null?0:s.length;return o?e(s,1):[]}return Fr=r,Fr}var qr,zo;function Ty(){if(zo)return qr;zo=1;function e(r,s,o){switch(o.length){case 0:return r.call(s);case 1:return r.call(s,o[0]);case 2:return r.call(s,o[0],o[1]);case 3:return r.call(s,o[0],o[1],o[2])}return r.apply(s,o)}return qr=e,qr}var Mr,Vo;function Py(){if(Vo)return Mr;Vo=1;var e=Ty(),r=Math.max;function s(o,a,l){return a=r(a===void 0?o.length-1:a,0),function(){for(var f=arguments,h=-1,g=r(f.length-a,0),S=Array(g);++h<g;)S[h]=f[a+h];h=-1;for(var E=Array(a+1);++h<a;)E[h]=f[h];return E[a]=l(S),e(o,this,E)}}return Mr=s,Mr}var jr,Ho;function Dy(){if(Ho)return jr;Ho=1;function e(r){return function(){return r}}return jr=e,jr}var Nr,Xo;function Cy(){if(Xo)return Nr;Xo=1;function e(r){return r}return Nr=e,Nr}var Lr,Ko;function Fy(){if(Ko)return Lr;Ko=1;var e=Dy(),r=Va(),s=Cy(),o=r?function(a,l){return r(a,"toString",{configurable:!0,enumerable:!1,value:e(l),writable:!0})}:s;return Lr=o,Lr}var $r,Wo;function qy(){if(Wo)return $r;Wo=1;var e=800,r=16,s=Date.now;function o(a){var l=0,f=0;return function(){var h=s(),g=r-(h-f);if(f=h,g>0){if(++l>=e)return arguments[0]}else l=0;return a.apply(void 0,arguments)}}return $r=o,$r}var Ur,Jo;function My(){if(Jo)return Ur;Jo=1;var e=Fy(),r=qy(),s=r(e);return Ur=s,Ur}var Br,Zo;function jy(){if(Zo)return Br;Zo=1;var e=Ry(),r=Py(),s=My();function o(a){return s(r(a,void 0,e),a+"")}return Br=o,Br}var Gr,Yo;function Ny(){if(Yo)return Gr;Yo=1;var e=ky(),r=jy(),s=r(function(o,a){return o==null?{}:e(o,a)});return Gr=s,Gr}/**
 * @react-router/dev v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zr,Qo;function Ly(){if(Qo)return zr;Qo=1;var e=Object.create,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,f=(k,T)=>{for(var C in T)r(k,C,{get:T[C],enumerable:!0})},h=(k,T,C,V)=>{if(T&&typeof T=="object"||typeof T=="function")for(let B of o(T))!l.call(k,B)&&B!==C&&r(k,B,{get:()=>T[B],enumerable:!(V=s(T,B))||V.enumerable});return k},g=(k,T,C)=>(C=k!=null?e(a(k)):{},h(!k||!k.__esModule?r(C,"default",{value:k,enumerable:!0}):C,k)),S=k=>h(r({},"__esModule",{value:!0}),k),E={};f(E,{getAppDirectory:()=>N,index:()=>G,layout:()=>K,prefix:()=>I,relative:()=>P,route:()=>Z}),zr=S(E);var x=g(Pp()),w=g(Dp()),O=g(Ny());function j(k,T){if(k===!1||k===null||typeof k>"u")throw console.error("The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose"),new Error(T)}function N(){return j(globalThis.__reactRouterAppDirectory),globalThis.__reactRouterAppDirectory}var L=w.pipe(w.custom(k=>!(typeof k=="object"&&k!==null&&"then"in k&&"catch"in k),"Invalid type: Expected object but received a promise. Did you forget to await?"),w.object({id:w.optional(w.pipe(w.string(),w.notValue("root","A route cannot use the reserved id 'root'."))),path:w.optional(w.string()),index:w.optional(w.boolean()),caseSensitive:w.optional(w.boolean()),file:w.string(),children:w.optional(w.array(w.lazy(()=>L)))}));w.array(L);var U=["id","index","caseSensitive"];function Z(k,T,C,V){let B={};return Array.isArray(C)||!C?V=C:B=C,{file:T,children:V,path:k??void 0,...(0,O.default)(B,U)}}var $=["id"];function G(k,T){return{file:k,index:!0,...(0,O.default)(T,$)}}var Q=["id"];function K(k,T,C){let V={};return Array.isArray(T)||!T?C=T:V=T,{file:k,children:C,...(0,O.default)(V,Q)}}function I(k,T){return T.map(C=>C.index||typeof C.path=="string"?{...C,path:C.path?R(k,C.path):k,children:C.children}:C.children?{...C,children:I(k,C.children)}:C)}function P(k){return{route:(T,C,...V)=>Z(T,x.resolve(k,C),...V),index:(T,...C)=>G(x.resolve(k,T),...C),layout:(T,...C)=>K(x.resolve(k,T),...C),prefix:I}}function R(k,T){return[k.replace(/\/+$/,""),T.replace(/^\/+/,"")].join("/")}return zr}var ue=Ly();const $y="",Uy="inventory",Ka="products",Wa="locations",Ja="moving-entities",Za="map",By="history";ue.index("routes/market.tsx"),ue.route(Wa,"routes/locations.tsx"),ue.route(Za,"routes/map.tsx"),ue.route(Ka,"routes/products.tsx"),ue.route(Ja,"routes/movingEntities.tsx"),ue.route(Uy,"routes/inventory.tsx"),ue.route(By,"routes/history.tsx"),ue.route("*","routes/404.tsx");const Gd=`/${$y}`,zd=`/${Wa}`,Vd=`/${Za}`,Hd=`/${Ka}`,Xd=`/${Ja}`,ea=e=>Symbol.iterator in e,ta=e=>"entries"in e,ra=(e,r)=>{const s=e instanceof Map?e:new Map(e.entries()),o=r instanceof Map?r:new Map(r.entries());if(s.size!==o.size)return!1;for(const[a,l]of s)if(!o.has(a)||!Object.is(l,o.get(a)))return!1;return!0},Gy=(e,r)=>{const s=e[Symbol.iterator](),o=r[Symbol.iterator]();let a=s.next(),l=o.next();for(;!a.done&&!l.done;){if(!Object.is(a.value,l.value))return!1;a=s.next(),l=o.next()}return!!a.done&&!!l.done};function zy(e,r){return Object.is(e,r)?!0:typeof e!="object"||e===null||typeof r!="object"||r===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(r)?!1:ea(e)&&ea(r)?ta(e)&&ta(r)?ra(e,r):Gy(e,r):ra({entries:()=>Object.entries(e)},{entries:()=>Object.entries(r)})}function Kd(e){const r=Ml.useRef(void 0);return s=>{const o=e(s);return zy(r.current,o)?r.current:r.current=o}}function Wd(e){const r=e.map(o=>o(a=>a.isHydrated)).reduce((o,a)=>o&&a,!0),s=!r;return D.useEffect(function(){r||e.forEach(a=>{const{isHydrating:l,isHydrated:f}=a.getState();l||f||(a.getState().isHydrating=!0,a.persist.rehydrate())})},[r,e]),s}export{Oa as $,Ma as A,pu as B,Sa as C,xe as D,Me as E,$d as F,wa as G,vd as H,Ld as I,wd as J,un as K,Xe as L,an as M,na as N,Aa as O,Gd as P,Ca as Q,Yy as R,Nc as S,Zc as T,vf as U,gf as V,md as W,Pd as X,Dd as Y,Zy as Z,rd as _,Bd as a,fe as a0,Ra as a1,yf as a2,ze as a3,ud as a4,id as a5,Ta as a6,xa as a7,td as a8,sd as a9,Od as aA,_d as aB,xd as aC,Ad as aD,Rd as aE,bd as aF,Td as aG,pd as aH,mf as aI,ad as aJ,ld as aK,dd as aL,hd as aM,Pf as aN,Md as aO,Nd as aP,jd as aQ,Ba as aR,ap as aS,Qy as aa,ed as ab,yd as ac,fn as ad,kd as ae,od as af,on as ag,nd as ah,fd as ai,sn as aj,Oe as ak,Re as al,cd as am,df as an,cf as ao,af as ap,Ve as aq,Sf as ar,Id as as,He as at,Ed as au,Sd as av,Ef as aw,Ke as ax,If as ay,gd as az,jc as b,qd as c,Wy as d,Na as e,Ne as f,Ky as g,Jy as h,Wc as i,Cd as j,Xy as k,Fd as l,ba as m,ga as n,zd as o,Vd as p,Hd as q,Kc as r,Xd as s,cn as t,Ud as u,Kd as v,Wd as w,La as x,ff as y,lf as z};
